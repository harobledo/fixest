<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • fixest</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fixest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.10.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/exporting_tables.html">Exporting estimation tables</a>
    </li>
    <li>
      <a href="../articles/fixest_walkthrough.html">Fast Fixed-Effects Estimation: Short introduction</a>
    </li>
    <li>
      <a href="../articles/multiple_estimations.html">Multiple estimations</a>
    </li>
    <li>
      <a href="../articles/standard_errors.html">On standard-errors</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lrberge/fixest/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/lrberge/fixest/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="fixest-0102" class="section level1">
<h1 class="page-header" data-toc-text="0.10.2">
<a href="#fixest-0102" class="anchor"></a>fixest 0.10.2<small> Unreleased </small>
</h1>
<div id="bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes" class="anchor"></a>Bug fixes</h2>
<ul>
<li><p>fix bug in stepwise estimations when two (stepwised) explanatory variables have exactly the same NAs values.</p></li>
<li><p>fix display bug regarding factors in <code>etable</code> when <code>dict</code> was present.</p></li>
<li><p>fix bug <code>tablefoot.value</code> not working any more (reported by <a href='https://github.com/resulumit'>@resulumit</a> <a href="https://github.com/lrberge/fixest/issues/224"><a href='https://github.com/lrberge/fixest/issues/224'>#224</a></a>).</p></li>
<li><p>fix possible environment problem when estimating non linear functions outside of the global environment.</p></li>
</ul>
</div>
<div id="etable" class="section level2">
<h2 class="hasAnchor">
<a href="#etable" class="anchor"></a>etable</h2>
<ul>
<li>in <code>headers</code>/<code>extralines</code>: <code>cmidrule</code> does not show up for empty column names any more.</li>
</ul>
</div>
</div>
    <div id="fixest-0101" class="section level1">
<h1 class="page-header" data-toc-text="0.10.1">
<a href="#fixest-0101" class="anchor"></a>fixest 0.10.1<small> 2021-10-30 </small>
</h1>
<div id="bug-fixes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-1" class="anchor"></a>Bug fixes</h2>
<ul>
<li><p>remove new R native piping test <code>|&gt;</code> which led to errors in R &lt; 4.1.0 despite conditional testing.</p></li>
<li><p>fix bug in <code>etable</code> <code>headers</code> when one wants to include several lines and the first line contains only one element repeated across columns.</p></li>
<li><p>fix bugs in predict: a) when variables are created with functions of the data, and b) when the new data contains single level factors (relates to issues <a href="https://github.com/lrberge/fixest/issues/200"><a href='https://github.com/lrberge/fixest/issues/200'>#200</a></a> and <a href="https://github.com/lrberge/fixest/issues/180"><a href='https://github.com/lrberge/fixest/issues/180'>#180</a></a> by <a href='https://github.com/steffengreup'>@steffengreup</a> and <a href='https://github.com/IsadoraBM'>@IsadoraBM</a>).</p></li>
<li><p>fix bug in <code>etable</code> non-clustered standard errors not displaying properly in footers.</p></li>
<li><p>fix bug in <code>etable</code> regarding the escaping of <code>fixef_sizes</code> (reported by Apoorva Lal <a href="https://github.com/lrberge/fixest/issues/201"><a href='https://github.com/lrberge/fixest/issues/201'>#201</a></a>).</p></li>
<li><p>fix bug introduced in 0.10.0 preventing the estimation of IV models with interacted fixed-effects (reported by <a href='https://github.com/etiennebacher'>@etiennebacher</a> <a href="https://github.com/lrberge/fixest/issues/203"><a href='https://github.com/lrberge/fixest/issues/203'>#203</a></a>).</p></li>
<li><p>fix bug in IV estimations when: a) no exogenous variables were present AND the IV part contained at lags; and b) the endogenous variables contained at least two lags. Reported by Robbie Minton.</p></li>
<li><p>fix bug in the <code>.fit</code> methods when the argument <code>vcov</code> wasn’t <code>NULL</code>.</p></li>
<li><p>fix bug in <code>summary.fixest_multi</code>: when the variance was NA and internal bug could pop in some circumstances.</p></li>
<li><p>fix bug <code>plot.fixef</code> not working for <code>fepois</code> (reported by <a href='https://github.com/statzhero'>@statzhero</a> <a href="https://github.com/lrberge/fixest/issues/213"><a href='https://github.com/lrberge/fixest/issues/213'>#213</a></a>).</p></li>
<li><p>fix error message when the (wrong) argument <code>X</code> is used in <code>feols</code>.</p></li>
</ul>
</div>
<div id="dot-square-bracket-operator" class="section level2">
<h2 class="hasAnchor">
<a href="#dot-square-bracket-operator" class="anchor"></a>Dot square bracket operator</h2>
<ul>
<li>add a comma first, like in <code>.[,stuff]</code>, to separate variables with commas (instead of separating them with additions):</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">lhs_vars</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"var1"</span>, <span class="st">"var2"</span><span class="op">)</span>
<span class="fu"><a href="../reference/xpd.html">xpd</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">.</span><span class="op">[</span>,<span class="va">lhs_vars</span><span class="op">]</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="../reference/stepwise.html">csw</a></span><span class="op">(</span><span class="va">x.</span><span class="op">[</span>,<span class="fl">1</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; c(var1, var2) ~ csw(x1, x2, x3)</span></code></pre></div>
<ul>
<li><p>new function <code>dsb</code>: applies the dot square bracket operator to character strings.</p></li>
<li><p>in the function <code>dsb</code>, you can add a string literal in first or last position in <code>.[]</code> to “collapse” the character string in question. The way the collapse is performed depends on the position:</p></li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">name</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Juliet"</span>, <span class="st">"Romeo"</span><span class="op">)</span>

<span class="co"># default behavior =&gt; vector</span>
<span class="fu"><a href="../reference/dsb.html">dsb</a></span><span class="op">(</span><span class="st">"hello .[name], what's up?"</span><span class="op">)</span>
<span class="co">#&gt; [1] "hello Juliet, what's up?" "hello Romeo, what's up?" </span>

<span class="co"># string literal in first position</span>
<span class="fu"><a href="../reference/dsb.html">dsb</a></span><span class="op">(</span><span class="st">"hello .[' and ', name], what's up?"</span><span class="op">)</span>
<span class="co">#&gt; [1] "hello Juliet and Romeo, what's up?"</span>

<span class="co"># string literal in last position</span>
<span class="fu"><a href="../reference/dsb.html">dsb</a></span><span class="op">(</span><span class="st">"hello .[name, ' and '], what's up?"</span><span class="op">)</span>
<span class="co">#&gt; [1] "hello Juliet and hello Romeo, what's up?"</span></code></pre></div>
</div>
<div id="bin" class="section level2">
<h2 class="hasAnchor">
<a href="#bin" class="anchor"></a>bin</h2>
<ul>
<li>
<code>bin</code>: numeric vectors can be ‘cut’ with the new special value <code>'cut::q3]p90]'</code>, check it out!</li>
</ul>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">iris</span><span class="op">)</span>
<span class="va">plen</span> <span class="op">=</span> <span class="va">iris</span><span class="op">$</span><span class="va">Petal.Length</span>

<span class="co"># 3 parts of (roughly) equal size</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="fu"><a href="../reference/bin.html">bin</a></span><span class="op">(</span><span class="va">plen</span>, <span class="st">"cut::3"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [1.0; 1.9] [3.0; 4.9] [5.0; 6.9] </span>
<span class="co">#&gt;         50         54         46 </span>

<span class="co"># Three custom bins</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="fu"><a href="../reference/bin.html">bin</a></span><span class="op">(</span><span class="va">plen</span>, <span class="st">"cut::2]5]"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [1.0; 1.9] [3.0; 5.0] [5.1; 6.9] </span>
<span class="co">#&gt;         50         58         42 </span>

<span class="co"># .. same, excluding 5 in the 2nd bin</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="fu"><a href="../reference/bin.html">bin</a></span><span class="op">(</span><span class="va">plen</span>, <span class="st">"cut::2]5["</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [1.0; 1.9] [3.0; 4.9] [5.0; 6.9] </span>
<span class="co">#&gt;         50         54         46 </span>

<span class="co"># Using quartiles</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="fu"><a href="../reference/bin.html">bin</a></span><span class="op">(</span><span class="va">plen</span>, <span class="st">"cut::q1]q2]q3]"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [1.0; 1.6] [1.7; 4.3] [4.4; 5.1] [5.2; 6.9] </span>
<span class="co">#&gt;         44         31         41         34 </span>

<span class="co"># Using percentiles</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="fu"><a href="../reference/bin.html">bin</a></span><span class="op">(</span><span class="va">plen</span>, <span class="st">"cut::p20]p50]p70]p90]"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [1.0; 1.5] [1.6; 4.3] [4.4; 5.0] [5.1; 5.8] [5.9; 6.9] </span>
<span class="co">#&gt;         37         38         33         29         13 </span>

<span class="co"># Mixing all</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="fu"><a href="../reference/bin.html">bin</a></span><span class="op">(</span><span class="va">plen</span>, <span class="st">"cut::2[q2]p90]"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; [1.0; 1.9] [3.0; 4.3] [4.4; 5.8] [5.9; 6.9] </span>
<span class="co">#&gt;         50         25         62         13</span>

<span class="co"># Adding custom names</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="fu"><a href="../reference/bin.html">bin</a></span><span class="op">(</span><span class="va">plen</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"cut::2[q2]p90]"</span>, <span class="st">"&lt;2"</span>, <span class="st">"]2; Q2]"</span>, <span class="cn">NA</span>, <span class="st">"&gt;90%"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;         &lt;2    ]2; Q2] [4.4; 5.8]       &gt;90% </span>
<span class="co">#&gt;         50         25         62         13 </span></code></pre></div>
<ul>
<li><p><code>bin</code> also accepts formulas, e.g. <code>bin = list("&lt;2" = ~ x &lt; 2)</code> (<code>x</code> must be the only variable).</p></li>
<li><p><code>bin</code> accepts the use of <code>.()</code> for <code><a href="https://rdrr.io/r/base/list.html">list()</a></code>.</p></li>
<li><p>you can add the location of the element using <code>@d</code> in the name. Useful to rearrange factors:</p></li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">base</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>, <span class="st">"species"</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">base</span><span class="op">$</span><span class="va">species</span><span class="op">)</span>
<span class="co">#&gt;     setosa versicolor  virginica </span>
<span class="co">#&gt;         50         50         50</span>

<span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="fu"><a href="../reference/bin.html">bin</a></span><span class="op">(</span><span class="va">base</span><span class="op">$</span><span class="va">species</span>, <span class="fu">.</span><span class="op">(</span><span class="st">"@3"</span> <span class="op">=</span> <span class="st">"seto"</span>, <span class="st">"@1 VIRGIN"</span> <span class="op">=</span> <span class="st">"virg"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;     VIRGIN versicolor     setosa </span>
<span class="co">#&gt;         50         50         50 </span></code></pre></div>
</div>
<div id="etable-1" class="section level2">
<h2 class="hasAnchor">
<a href="#etable-1" class="anchor"></a>etable</h2>
<ul>
<li><p>the tex output is now “nicely” formatted.</p></li>
<li><p>argument <code>extralines</code> replaces the argument <code>extraline</code> to increase coherence. Hence function <code>extraline_register</code> becomes <code>extralines_register</code> (the change is done without deprecation since I guess this function must be only rarely used).</p></li>
<li><p>arguments <code>extralines</code> and <code>headers</code> accept <code>.()</code> for <code><a href="https://rdrr.io/r/base/list.html">list()</a></code>.</p></li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">base</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>, <span class="st">"species"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="new-function" class="section level2">
<h2 class="hasAnchor">
<a href="#new-function" class="anchor"></a>New function</h2>
<ul>
<li>
<code>check_conv_feols</code>: checks the convergence of the fixed-effects in <code>feols</code> models by looking at the first-order conditions.</li>
</ul>
</div>
<div id="new-functions-unrelated-but-possibly-useful" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions-unrelated-but-possibly-useful" class="anchor"></a>New functions, unrelated but possibly useful</h2>
<p>Although a bit unrelated to the purpose of this package, these functions are so extensively used in the author’s research that he decided to leverage his author privileges to include them in <code>fixest</code> to make them easier to share with co-authors.</p>
<ul>
<li><p><code>osize</code>: simple function returning a formatted object size.</p></li>
<li><p><code>n_unik</code>: simple but flexible function returning the number of unique elements from variables in one or several data sets. Useful for checking keys.</p></li>
<li><p><code>sample_df</code>: simple function to extract random lines from a <code>data.frame</code>.</p></li>
</ul>
</div>
<div id="other-new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#other-new-features" class="anchor"></a>Other new features</h2>
<ul>
<li><p>when computing Newey-West standard-errors for time series, the bandwidth is now selected thanks to the <a href="https://sandwich.r-forge.r-project.org/reference/NeweyWest.html">bwNeweyWest</a> function from the <a href="https://sandwich.r-forge.r-project.org/index.html">sandwich</a> package. This function implements the method described in Newey and West 1994.</p></li>
<li><p>add <code>type = "se_long"</code> to <code>summary.fixest_multi</code> which yields all coefficients and SEs for all estimations in a “long” format.</p></li>
<li><p>only in <code>fixest</code> estimations, using a “naked” dot square bracket variable in the left-hand-side includes them as multiple left hand sides. Regular expressions can also be used in the LHS.</p></li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">base</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>, <span class="st">"species"</span><span class="op">)</span><span class="op">)</span>
<span class="va">y</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="st">"x1"</span><span class="op">)</span>
<span class="fu"><a href="../reference/feols.html">feols</a></span><span class="op">(</span><span class="va">.</span><span class="op">[</span><span class="va">y</span><span class="op">]</span> <span class="op">~</span> <span class="va">x2</span>, <span class="va">base</span><span class="op">)</span>
<span class="co">#&gt; Standard-errors: IID </span>
<span class="co">#&gt; Dep. var.: y</span>
<span class="co">#&gt;             Estimate Std. Error t value  Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept) 4.306603   0.078389 54.9389 &lt; 2.2e-16 ***</span>
<span class="co">#&gt; x2          0.408922   0.018891 21.6460 &lt; 2.2e-16 ***</span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Dep. var.: x1</span>
<span class="co">#&gt;              Estimate Std. Error  t value   Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)  3.454874   0.076095 45.40188  &lt; 2.2e-16 ***</span>
<span class="co">#&gt; x2          -0.105785   0.018339 -5.76845 4.5133e-08 ***</span>


<span class="fu"><a href="../reference/etable.html">etable</a></span><span class="op">(</span><span class="fu"><a href="../reference/feols.html">feols</a></span><span class="op">(</span><span class="fu">..</span><span class="op">(</span><span class="st">"x"</span><span class="op">)</span> <span class="op">~</span> <span class="va">y</span> <span class="op">+</span> <span class="fu"><a href="../reference/i.html">i</a></span><span class="op">(</span><span class="va">species</span><span class="op">)</span>, <span class="va">base</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;                                  model 1            model 2            model 3</span>
<span class="co">#&gt; Dependent Var.:                       x1                 x2                 x3</span>
<span class="co">#&gt;                                                                               </span>
<span class="co">#&gt; (Intercept)            1.677*** (0.2354) -1.702*** (0.2301) -0.4794** (0.1557)</span>
<span class="co">#&gt; y                     0.3499*** (0.0463) 0.6321*** (0.0453) 0.1449*** (0.0306)</span>
<span class="co">#&gt; species = versicolor -0.9834*** (0.0721)  2.210*** (0.0705) 0.9452*** (0.0477)</span>
<span class="co">#&gt; species = virginica   -1.008*** (0.0933)  3.090*** (0.0912)  1.551*** (0.0617)</span>
<span class="co">#&gt; ____________________ ___________________ __________________ __________________</span>
<span class="co">#&gt; S.E. type                            IID                IID                IID</span>
<span class="co">#&gt; Observations                         150                150                150</span>
<span class="co">#&gt; R2                               0.56925            0.97489            0.93833</span>
<span class="co">#&gt; Adj. R2                          0.56040            0.97438            0.93706</span></code></pre></div>
</div>
<div id="other" class="section level2">
<h2 class="hasAnchor">
<a href="#other" class="anchor"></a>Other</h2>
<ul>
<li><p>improve error messages when <code>subset</code> does not select any element.</p></li>
<li><p>in <code>xpd</code> and <code>fixest</code> estimations, variables can be “grepped” from the data set with <code><a href="https://rdrr.io/r/base/regex.html">regex("regex")</a></code>.</p></li>
<li><p>add inheritance of the default style in <code>iplot</code> when the style is set globally with <code>setFixest_coefplot</code>.</p></li>
<li><p>improve error messages in general by prompting additional error calls (when appropriate).</p></li>
<li><p>the dictionaries now ignore white spaces in coefficient names (thanks to Caleb Kwon).</p></li>
<li><p>the package startup messages have been improved (they should pop up less often).</p></li>
<li><p>to comply with CRAN policies, the startup message doesn’t write on the .Renviron file any more.</p></li>
</ul>
</div>
</div>
    <div id="fixest-0100" class="section level1">
<h1 class="page-header" data-toc-text="0.10.0">
<a href="#fixest-0100" class="anchor"></a>fixest 0.10.0<small> 2021-09-28 </small>
</h1>
<div id="bugs-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-fixes" class="anchor"></a>Bugs fixes</h2>
<ul>
<li><p>Fix bug occurring in IV models with multiple instruments and with multithreading on. That bug could lead to the wrong imputation of the IV residuals, hence affecting the standard-errors (although the order of magnitude of the variation should be minor). Thanks to <a href='https://github.com/whitfillp'>@whitfillp</a> <a href="https://github.com/lrberge/fixest/issues/182"><a href='https://github.com/lrberge/fixest/issues/182'>#182</a></a>.</p></li>
<li><p>Fix minor, rare, bug occurring in <code>feglm</code> when the model was badly specified and VAR(Y) &gt;&gt;&gt;&gt; VAR(X) and there were only one variable.</p></li>
<li><p><code>model.matrix</code> did not work with <code>type = "fixef"</code> (thanks to <a href='https://github.com/kylebutts'>@kylebutts</a> <a href="https://github.com/lrberge/fixest/issues/172"><a href='https://github.com/lrberge/fixest/issues/172'>#172</a></a>).</p></li>
<li><p>In nonlinear estimations:<code>fixef.rm = "none"</code> or <code>fixef.rm = "singleton"</code> did not work as expected (thanks to <a href='https://github.com/kre32'>@kre32</a> <a href="https://github.com/lrberge/fixest/issues/171"><a href='https://github.com/lrberge/fixest/issues/171'>#171</a></a>).</p></li>
<li><p>Fix bug that could occur when observations had to be removed on several fixed-effects dimensions (had no impact on the estimates though).</p></li>
<li><p>Fix bug in <code>etable</code> when <code>file</code> is provided and <code>tex = FALSE</code> (thanks to <a href='https://github.com/roussanoff'>@roussanoff</a> <a href="https://github.com/lrberge/fixest/issues/169"><a href='https://github.com/lrberge/fixest/issues/169'>#169</a></a>).</p></li>
<li><p>Fix bug when: i) a <code>fixest_panel</code> is used as a data set in an estimation, ii) NA values are to be removed and iii) fixed-effects are used. Thanks to Nicola Cortinovis for the report!</p></li>
<li><p>Fix bug in <code>to_integer</code> when converting multiple vectors and sorting is required, without items.</p></li>
<li><p>Fix bug in <code>feols.fit</code> when the matrix of regressors was only partially named (reported by <a href='https://github.com/leucothea'>@leucothea</a> <a href="https://github.com/lrberge/fixest/issues/176"><a href='https://github.com/lrberge/fixest/issues/176'>#176</a></a>).</p></li>
<li><p>Fix bug in the value of the fixed-effects coefficients in IV estimations (thanks to <a href='https://github.com/tappek'>@tappek</a> <a href="https://github.com/lrberge/fixest/issues/190"><a href='https://github.com/lrberge/fixest/issues/190'>#190</a></a>).</p></li>
<li><p>Fix bug in <code>coefplot</code> when <code>lean = TRUE</code> in the estimation (reported by <a href='https://github.com/adamaltmejd'>@adamaltmejd</a> <a href="https://github.com/lrberge/fixest/issues/195"><a href='https://github.com/lrberge/fixest/issues/195'>#195</a></a>).</p></li>
<li><p>Fix bug in <code>iplot</code> when IVs contained interactions.</p></li>
<li><p>Fix bug in <code>iplot</code> preventing some variables to be removed (reported by <a href='https://github.com/roussanoff'>@roussanoff</a> <a href="https://github.com/lrberge/fixest/issues/164"><a href='https://github.com/lrberge/fixest/issues/164'>#164</a></a>).</p></li>
<li><p>Fix 0 right-padding of numbers displayed in estimation results that could be confusing (reported by <a href='https://github.com/hjuerges'>@hjuerges</a> <a href="https://github.com/lrberge/fixest/issues/197"><a href='https://github.com/lrberge/fixest/issues/197'>#197</a></a>).</p></li>
</ul>
</div>
<div id="major-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#major-changes" class="anchor"></a>Major changes</h2>
<ul>
<li>
<p>New argument <code>vcov</code>:</p>
<ul>
<li><p>greatly simplifies and extends how to specify the SEs</p></li>
<li><p>completely replaces the arguments <code>se</code> and <code>cluster</code> (they still work)</p></li>
<li><p>accepts functions</p></li>
<li><p>see the documentation in the <a href="https://lrberge.github.io/fixest/articles/fixest_walkthrough.html#the-vcov-argument-1">vignette</a></p></li>
</ul>
</li>
<li>
<p>New built-in VCOVs:</p>
<ul>
<li><p>Newey-West (1987) for serially correlated errors</p></li>
<li><p>Driscoll-Kraay (1998) for cross-sectionally and serially correlated errors</p></li>
<li><p>Conley (1999) for spatially correlated errors</p></li>
</ul>
</li>
<li><p>you can summon variables from the environment directly in the formula using the new dot square bracket (DSB) operator. The DSB operator can be used to create many variables at once, and can also be using within regular expressions. One example:</p></li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">base</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span><span class="op">(</span><span class="va">iris</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>, <span class="st">"species"</span><span class="op">)</span><span class="op">)</span>
<span class="va">i</span> <span class="op">=</span> <span class="fl">2</span><span class="op">:</span><span class="fl">3</span>
<span class="va">z</span> <span class="op">=</span> <span class="st">"i(species)"</span>
<span class="fu"><a href="../reference/feols.html">feols</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x.</span><span class="op">[</span><span class="va">i</span><span class="op">]</span> <span class="op">+</span> <span class="va">.</span><span class="op">[</span><span class="va">z</span><span class="op">]</span>, <span class="va">base</span><span class="op">)</span>
<span class="co">#&gt; OLS estimation, Dep. Var.: y</span>
<span class="co">#&gt; Observations: 150 </span>
<span class="co">#&gt; Standard-errors: IID </span>
<span class="co">#&gt;                      Estimate Std. Error   t value   Pr(&gt;|t|)    </span>
<span class="co">#&gt; (Intercept)          3.682982   0.107403 34.291343  &lt; 2.2e-16 ***</span>
<span class="co">#&gt; x2                   0.905946   0.074311 12.191282  &lt; 2.2e-16 ***</span>
<span class="co">#&gt; x3                  -0.005995   0.156260 -0.038368 9.6945e-01    </span>
<span class="co">#&gt; species::versicolor -1.598362   0.205706 -7.770113 1.3154e-12 ***</span>
<span class="co">#&gt; species::virginica  -2.112647   0.304024 -6.948940 1.1550e-10 ***</span>
<span class="co">#&gt; ---</span>
<span class="co">#&gt; Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</span>
<span class="co">#&gt; RMSE: 0.333482   Adj. R2: 0.832221</span></code></pre></div>
<ul>
<li><p>in <code>i</code> and <code>sunab</code> you can now bin the variables on the fly with the new argument <code>bin</code>. The new function <a href="https://lrberge.github.io/fixest/reference/bin.html"><code>bin</code></a> is also available at the user-level.</p></li>
<li><p>Function <code>dof</code> has been renamed into <code>ssc</code> (stands for small sample correction) to improve clarity. Retro compatibility is partially ensured but the function <code>dof</code> will be removed at some point.</p></li>
</ul>
</div>
<div id="breaking-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes" class="anchor"></a>Breaking changes</h2>
<ul>
<li><p>Functions <code>setFixest_dof</code> and <code>setFixest_se</code> have been renamed into <code>setFixest_ssc</code> and <code>setFixest_vcov</code>. <strong>No retro compatibility ensured.</strong></p></li>
<li><p>Removal of the <code>var::factor</code> operator to interact a continuous variable with a variable treated as a factor.</p></li>
</ul>
</div>
<div id="new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features" class="anchor"></a>New features</h2>
<ul>
<li><p><code>feglm</code> now accepts partially matched character shortcuts for families: “poisson”, “logit”, “probit” are now valid <code>family</code> arguments.</p></li>
<li><p><code>predict.fixest</code> accepts the new argument <code>fixef</code> which, if <code>TRUE</code>, returns a data.frame of the fixed-effects coefficients for each observation, with the same number of columns as the number of fixed-effects (feature requests <a href="https://github.com/lrberge/fixest/issues/144"><a href='https://github.com/lrberge/fixest/issues/144'>#144</a></a> and <a href="https://github.com/lrberge/fixest/issues/175"><a href='https://github.com/lrberge/fixest/issues/175'>#175</a></a> by <a href='https://github.com/pp2382'>@pp2382</a> and <a href='https://github.com/cseveren'>@cseveren</a>).</p></li>
<li><p>offsets present in the formula are now accepted.</p></li>
<li>
<p>VCOV aliases (both Grant McDermott’s suggestions: thanks Grant!):</p>
<ul>
<li><p>the default standard-errors is now <code>"iid"</code> (former keywords still work)</p></li>
<li><p>the keyword <code>hc1</code> can be used to summon heteroskedasticity-robust SEs</p></li>
</ul>
</li>
<li><p><em>Argument sliding</em>: the argument <code>vcov</code> can be called implicitly when <code>data</code> is set up globally:</p></li>
</ul>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">base</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span><span class="op">(</span>iris <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>, <span class="st">"species"</span><span class="op">)</span><span class="op">)</span>

<span class="co"># Setting up the data</span>
<span class="fu"><a href="../reference/setFixest_estimation.html">setFixest_estimation</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">base</span><span class="op">)</span>

<span class="co"># Now vcov can be used without using vcov = stuff:</span>
<span class="fu"><a href="../reference/feols.html">feols</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span>, <span class="op">~</span><span class="va">species</span><span class="op">)</span>

<span class="co"># =&gt; same as feols(y ~ x1 + x2, vcov = ~species)</span></code></pre></div>
<ul>
<li>piping the data now works:</li>
</ul>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">mtcars</span> |&gt; <span class="fu"><a href="../reference/feols.html">feols</a></span><span class="op">(</span><span class="va">cyl</span> <span class="op">~</span> <span class="va">mpg</span><span class="op">)</span>
<span class="co"># =&gt; same as feols(cyl ~ mpg, mtcars)</span></code></pre></div>
<ul>
<li><p>the user can now specify custom degrees of freedom to compute the t-tests in <code><a href="../reference/ssc.html">ssc()</a></code> (feature request by Kyle F. Butts).</p></li>
<li><p>the predict method gains the new argument <code>se.fit</code> and <code>interval</code> which computes the SEs/CI of the predicted variable. This only works for OLS models without fixed-effects. Feature request by Gábor Békés <a href="https://github.com/lrberge/fixest/issues/193"><a href='https://github.com/lrberge/fixest/issues/193'>#193</a></a>.</p></li>
<li><p><code>iplot</code> gains the argument <code>i.select</code> to navigate through the different variables created with <code><a href="../reference/i.html">i()</a></code> (provided there are more than one of course).</p></li>
</ul>
</div>
<div id="etable-2" class="section level2">
<h2 class="hasAnchor">
<a href="#etable-2" class="anchor"></a>etable</h2>
<ul>
<li><p>new argument <code>interaction.order</code> to control the order in which interacted variables are displayed (feature request by <a href='https://github.com/inkrement'>@inkrement</a> <a href="https://github.com/lrberge/fixest/issues/120"><a href='https://github.com/lrberge/fixest/issues/120'>#120</a></a>).</p></li>
<li><p>new argument <code>i.equal</code> to control how the values taken by factor variables created with <code><a href="../reference/i.html">i()</a></code> are displayed.</p></li>
<li><p>new <code>meta.XX</code> family of arguments when exporting to Latex. They include various type of information as comments before the table (suggestion of adding the time by Apoorva Lal <a href="https://github.com/lrberge/fixest/pull/184"><a href='https://github.com/lrberge/fixest/issues/184'>#184</a></a>). So far the new arguments are: <code>meta.time</code>, <code>meta.author</code>, <code>meta.sys</code>, <code>meta.call</code>, <code>meta.comment</code>. The argument <code>meta</code> is a shortcut to all these.</p></li>
<li><p>default values can be saved at the project level using the argument <code>save = TRUE</code> in the function <code>setFixest_etable</code>. This means that default values will be automatically set without having to call <code>setFixest_etable</code> at the startup of the R session. For example, if you want to permanently add the creation time in your Latex exports, just use <code><a href="../reference/etable.html">setFixest_etable(meta.time = TRUE, save = TRUE)</a></code>, and you won’t need to bother about it anymore in any future session in your current project.</p></li>
<li><p>some changes in <code>extraline</code>, now: <em>i)</em> it accepts raw vectors, <em>ii)</em> it accepts lines without title, <em>iii)</em> the elements are recycled across models, <em>iv)</em> it accepts elements of the form <code>list("item1" = #item1, "item2" = #item2, etc)</code>, and <em>v)</em> the elements are Latex-escaped.</p></li>
<li><p>in <code>style.tex</code>: all Latex-escaping is removed.</p></li>
<li><p>the argument <code>subtitle</code> has been renamed into <code>headers</code> (retro-compatibility is ensured).</p></li>
<li>
<p>on the new argument <code>headers</code>:</p>
<ul>
<li>it accepts named lists of numbers, where the names represent the values in the cell and the numbers represent the span. For example <code>headers = list("Gender" = list("M" = 3, "F" = 4))</code> will create a line with 3 times “M” and 4 times “F”.</li>
<li>adding the special tag <code>":_:"</code> in the row name will add a rule for each column group (in the previous example <code>":_:Gender"</code> would do). Suggestion by <a href='https://github.com/nhirschey'>@nhirschey</a> <a href="https://github.com/lrberge/fixest/pull/173"><a href='https://github.com/lrberge/fixest/issues/173'>#173</a></a>.</li>
<li>you can control the placement of the header line by using as first character the following special tags: “^” (top), “-” (mid, default), "_" (bottom). Ex: <code>headers = list("_Gender" = list("M" = 3, "F" = 4))</code> will place the header line at the very bottom of the headers.</li>
<li>by default all values are Latex-escaped. You can disable escaping by adding <code>":tex:"</code> in the row title.</li>
</ul>
</li>
<li><p>argument <code>sdBelow</code> has been renamed into <code>se.below</code> (retro-compatibility is ensured).</p></li>
<li><p>new argument <code>se.row</code> to control whether the row displaying the standard-errors should be displayed (clarification requested by <a href='https://github.com/waynelapierre'>@waynelapierre</a> <a href="https://github.com/lrberge/fixest/issues/127"><a href='https://github.com/lrberge/fixest/issues/127'>#127</a></a>).</p></li>
<li><p><code>dict</code> now directly modifies the entries in the global dictionary instead of creating a brand new one. For example if you have <code><a href="../reference/setFixest_dict.html">setFixest_dict(c(cyl="Cylinder"))</a></code> and then use <code>etable</code> with <code>dict=c(mpg="miles per gallon")</code>, you end up with both the names <code>cyl</code> and <code>mpg</code> to be modified. To disable this behavior, you can add <code>"reset"</code> as the first element, like in <code>dict=c("reset", mpg="miles per gallon")</code>.</p></li>
</ul>
</div>
<div id="other-1" class="section level2">
<h2 class="hasAnchor">
<a href="#other-1" class="anchor"></a>Other</h2>
<ul>
<li>in multiple estimations, it is now made explicit that the information regarding NA values only concern the variables in common across all models (formerly, it was implicit and hence confusing).</li>
</ul>
</div>
</div>
    <div id="fixest-090" class="section level1">
<h1 class="page-header" data-toc-text="0.9.0">
<a href="#fixest-090" class="anchor"></a>fixest 0.9.0<small> 2021-06-19 </small>
</h1>
<div id="bugs" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs" class="anchor"></a>Bugs</h2>
<ul>
<li><p>Major bug, leading R to crash, occurring when the same variable was used with several different slopes (thanks to <a href='https://github.com/Oravishayrizi'>@Oravishayrizi</a> <a href="https://github.com/lrberge/fixest/issues/119"><a href='https://github.com/lrberge/fixest/issues/119'>#119</a></a>).</p></li>
<li><p>Major bug, leading R to crash, occurring when 3+ fixed-effects are to be combined.</p></li>
<li><p>Major bug, leading R to crash, occurring when multiple LHS are estimated with the option <code>fixef.rm = "singleton"</code> (thanks to Ole Rogeberg).</p></li>
<li><p>Major bug, leading R to crash, occurring when <em>many</em> fixed-effects have to be removed because of only 0/1 outcomes (thanks to <a href='https://github.com/mangelett'>@mangelett</a> <a href="https://github.com/lrberge/fixest/issues/146"><a href='https://github.com/lrberge/fixest/issues/146'>#146</a></a> and <a href='https://github.com/ChristianDueben'>@ChristianDueben</a> <a href="https://github.com/lrberge/fixest/issues/157"><a href='https://github.com/lrberge/fixest/issues/157'>#157</a></a>).</p></li>
<li><p>Fix bug occurring for undefined covariances with only one regressor (thanks to <a href='https://github.com/joseph-richard-martinez'>@joseph-richard-martinez</a> <a href="https://github.com/lrberge/fixest/issues/118"><a href='https://github.com/lrberge/fixest/issues/118'>#118</a></a>).</p></li>
<li><p>Fix bug in IV estimations regarding the Wald statistic of the first stage when <code>lean = TRUE</code> and the VCOV computation is done post estimation.</p></li>
<li><p>Fix bug in the Wald test in IV estimations when variables are removed because of collinearity (thanks to <a href='https://github.com/pei-huang'>@pei-huang</a> <a href="https://github.com/lrberge/fixest/issues/117"><a href='https://github.com/lrberge/fixest/issues/117'>#117</a></a>).</p></li>
<li><p>Fix bug regarding multiple estimations when the multiple fixed-effects contained variables with varying slopes.</p></li>
<li><p>Fix various display bugs in <code>fitstat</code>.</p></li>
<li><p>Fix bug in <code>etable</code>: using split sample estimations prevented the argument <code>title</code> to render correctly.</p></li>
<li><p>Fix incorrect information message when observations are removed because of infinite values (in some circumstances the removal was wrongly attributed to NAness).</p></li>
<li><p>Fix bug in <code>etable</code> when checking the argument <code>coefstat</code> (thanks to <a href='https://github.com/waynelapierre'>@waynelapierre</a> <a href="https://github.com/lrberge/fixest/issues/121"><a href='https://github.com/lrberge/fixest/issues/121'>#121</a></a>).</p></li>
<li><p>Fix bug in <code>feols</code> when IV estimations contained fixed-effects and <code>lean = TRUE</code> (thanks to <a href='https://github.com/adamaltmejd'>@adamaltmejd</a> <a href="https://github.com/lrberge/fixest/issues/123"><a href='https://github.com/lrberge/fixest/issues/123'>#123</a></a>).</p></li>
<li><p>Fix bug in IV estimations when an endogenous regressor was removed because of collinearity.</p></li>
<li><p>Fix bug estimation without intercept not working when lags are present in the formula (thanks to <a href='https://github.com/nreigl'>@nreigl</a> <a href="https://github.com/lrberge/fixest/issues/126"><a href='https://github.com/lrberge/fixest/issues/126'>#126</a></a>).</p></li>
<li><p>Fix various bugs when using <code>subset</code> in the estimations (reported by <a href='https://github.com/noahmbuckley'>@noahmbuckley</a> and <a href='https://github.com/Oravishayrizi'>@Oravishayrizi</a>, <a href="https://github.com/lrberge/fixest/issues/129"><a href='https://github.com/lrberge/fixest/issues/129'>#129</a></a> and <a href="https://github.com/lrberge/fixest/issues/131"><a href='https://github.com/lrberge/fixest/issues/131'>#131</a></a>).</p></li>
<li><p>Fix error message when data cannot be fetched (reported by <a href='https://github.com/Oravishayrizi'>@Oravishayrizi</a> <a href="https://github.com/lrberge/fixest/issues/134"><a href='https://github.com/lrberge/fixest/issues/134'>#134</a></a>).</p></li>
<li><p>Fix bug getting the “G” statistic in <code>fitstat</code>.</p></li>
<li><p>Fix bug in <code>predict</code> when a <code><a href="https://rdrr.io/r/stats/poly.html">poly()</a></code> term was used and the formula was long (reported by <a href='https://github.com/XiangLiu-github'>@XiangLiu-github</a> <a href="https://github.com/lrberge/fixest/issues/135"><a href='https://github.com/lrberge/fixest/issues/135'>#135</a></a>).</p></li>
<li><p>fix bug for extracting sub statistics of <code>"ivwald"</code> and <code>"ivf"</code> in <code>fitstat</code>.</p></li>
<li><p>fix bug when <code><a href="../reference/i.html">i()</a></code> was used without intercept.</p></li>
<li><p>Fix display bug in <code>etable</code> when Tex output is requested and interactions composed of identical variables with different interacted orders are present (reported by <a href='https://github.com/Oravishayrizi'>@Oravishayrizi</a> <a href="https://github.com/lrberge/fixest/issues/148"><a href='https://github.com/lrberge/fixest/issues/148'>#148</a></a>).</p></li>
<li><p>Fix bug in <code>etabe</code> when <code>fixef.group</code> is used and fixed-effects are renamed (reported by <a href='https://github.com/jamesfeigenbaum'>@jamesfeigenbaum</a>).</p></li>
<li><p>Fix bug when <code>fplit</code> is used with subset.</p></li>
<li><p>Fix bug when using <code>cluster</code> with <code>subset</code> and NA values are removed (reported by <a href='https://github.com/adamaltmejd'>@adamaltmejd</a> <a href="https://github.com/lrberge/fixest/issues/154"><a href='https://github.com/lrberge/fixest/issues/154'>#154</a></a>).</p></li>
<li><p>Fix bug argument <code>lean</code> not working on <code>summary</code> when applied to an existing <code>summary</code> and only the argument <code>lean</code> was present (reported by <a href='https://github.com/adamaltmejd'>@adamaltmejd</a>).</p></li>
<li><p>Fix bug when using multiple LHS with lags in the formula (reported by <a href='https://github.com/Nicolas'>@Nicolas</a> Reigl <a href="https://github.com/lrberge/fixest/issues/154"><a href='https://github.com/lrberge/fixest/issues/158'>#158</a></a>).</p></li>
<li><p>Fix bug regarding the intercept-only likelihood when weights are provided (only with Poisson and logit models), reported by <a href='https://github.com/fostermeijer'>@fostermeijer</a> <a href="https://github.com/lrberge/fixest/issues/155"><a href='https://github.com/lrberge/fixest/issues/155'>#155</a></a>.</p></li>
</ul>
</div>
<div id="breaking-changes-new-i-function" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes-new-i-function" class="anchor"></a>Breaking changes: new i() function</h2>
<ul>
<li><p>the function <code><a href="../reference/i.html">i()</a></code>, used to create factors or interactions has been tidied up, leading to breaking changes.</p></li>
<li><p>the first two arguments have been swapped! such that now the first argument will always be treated as a factor.</p></li>
<li><p>the new syntax is <code><a href="../reference/i.html">i(factor_var, var, ref, keep, ref2, keep2)</a></code> where <code>var</code> can be either continuous or factor-like (the argument <code>f2</code>, for interaction with factors, has been removed).</p></li>
<li><p>Fix rare bug when the number of parameters is greater than the number of observations and the GLM family has a dispersion parameter.</p></li>
</ul>
</div>
<div id="breaking-changes-new-default-family-for-feglm" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes-new-default-family-for-feglm" class="anchor"></a>Breaking changes: new default family for feglm</h2>
<ul>
<li>to be in line with R stats’s <code>glm</code>, the new default family for <code>feglm</code> is <code>gaussian</code> (previously it was Poisson, if you were using it, please now use the function <code>fepois</code> instead).</li>
</ul>
</div>
<div id="breaking-changes-coefplot-is-now-split-in-two" class="section level2">
<h2 class="hasAnchor">
<a href="#breaking-changes-coefplot-is-now-split-in-two" class="anchor"></a>Breaking changes: coefplot is now split in two</h2>
<ul>
<li>
<p>the function <code>coefplot</code> has been split in two:</p>
<ul>
<li><p><code>coefplot</code>: always plots <em>all</em> the coefficients.</p></li>
<li><p><code>iplot</code>: plots only interactions or factors created with the function <code><a href="../reference/i.html">i()</a></code>.</p></li>
</ul>
</li>
<li><p>the function <code>iplot</code> hence replaces <code>coefplot</code>’s former argument <code>only.inter</code> which controlled whether or not to focus on interactions.</p></li>
</ul>
</div>
<div id="etable-3" class="section level2">
<h2 class="hasAnchor">
<a href="#etable-3" class="anchor"></a>etable</h2>
<ul>
<li><p><code>group</code> and <code>extraline</code>: enhanced and simplified control of the placement of the new rows. Now only two special characters at the beginning of the row name decide its location.</p></li>
<li><p>new argument <code>fixest.group</code>. If <code>TRUE</code>, then fixed-effects appearing always jointly across models will be grouped in a single row. The user can alternatively specify a list to declare which fixed-effect to group and customize the row name.</p></li>
<li><p><code>sdBelow</code> now works when <code>tex = FALSE</code> (request by Sasha Indarte).</p></li>
<li>
<p><code>extraline</code> can now be equal to a formula containing <code>extraline</code> macros or valid <code>fitstat</code> types.</p>
<ul>
<li><p>When a list, <code>extraline</code> can contain functions (returning a scalar) that will be applied to each model.</p></li>
<li><p>When a list, <code>extraline</code> can contain formulas containing <code>extraline</code> macros or valid <code>fitstat</code> types.</p></li>
</ul>
</li>
<li><p>You can register <code>extraline</code> macros with the new function <code>extraline_register</code>.</p></li>
<li><p>When <code>tex = TRUE</code>, n-way clustering now always leads to the name of clustered SEs (n-way is not shown any more).</p></li>
<li><p>Add the argument <code>coef.just</code> that controls the justification of the coefficients and standard-errors. Only works when <code>tex = FALSE</code> (i.e. a <code>data.frame</code> is requested).</p></li>
</ul>
</div>
<div id="sun-and-abraham-staggered-did-method" class="section level2">
<h2 class="hasAnchor">
<a href="#sun-and-abraham-staggered-did-method" class="anchor"></a>Sun and Abraham staggered DiD method</h2>
<ul>
<li><p>new function <code>sunab</code> that simplifies the implementation of the SA method.</p></li>
<li><p>just type <code><a href="../reference/sunab.html">sunab(cohort, period)</a></code> in a <code>fixest</code> estimation and it works!</p></li>
</ul>
</div>
<div id="fixest_multi-methods" class="section level2">
<h2 class="hasAnchor">
<a href="#fixest_multi-methods" class="anchor"></a>fixest_multi methods</h2>
<p>Common methods have been extended to <code>fixest_multi</code> objects.</p>
<ul>
<li><p><code>coef.fixest_multi</code>: re-arranges the coefficients of multiple estimations into a matrix.</p></li>
<li><p><code>resid.fixest_multi</code>: re-arranges the residuals of multiple estimations into a matrix.</p></li>
</ul>
</div>
<div id="fitstat-new-fit-statistics" class="section level2">
<h2 class="hasAnchor">
<a href="#fitstat-new-fit-statistics" class="anchor"></a>fitstat: New fit statistics</h2>
<ul>
<li><p><code>kpr</code>: Kleibergen-Paap rank test for IV estimations.</p></li>
<li><p><code>cd</code>: Cragg-Donald F statistic for IV estimations.</p></li>
<li><p><code>my</code>: gives the mean of the dependent variable.</p></li>
</ul>
</div>
<div id="new-functions" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions" class="anchor"></a>New functions</h2>
<ul>
<li><p><code>degrees_freedom</code>: to access the DoFs of the models (sometimes that can be intricate).</p></li>
<li><p><code>feols.fit</code>: fit method for feols.</p></li>
<li><p><code>obs</code>: to obtain the observations used in the estimation.</p></li>
</ul>
</div>
<div id="new-features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-1" class="anchor"></a>New features</h2>
<ul>
<li><p>All <code>fixest</code> estimation now accept scalars from the global environment (variables are still not allowed!).</p></li>
<li><p>Better handling of the DoFs in <code>fitstat</code> (in particular when the VCOV is clustered).</p></li>
<li>
<p><code>model.matrix</code>:</p>
<ul>
<li><p>the endogenous and exogenous regressors, and the instruments from IV estimations can now be easily extracted.</p></li>
<li><p>new arguments <code>as.matrix</code> and <code>as.df</code> to coerce the result to a particular format.</p></li>
</ul>
</li>
<li><p><code>.fit</code> methods (<code>feols.fit</code> and <code>feglm.fit</code>) now handle multiple dependent variables.</p></li>
<li><p><code>to_integer</code> now sorts appropriately any kind of vectors (not just numeric/character/factors).</p></li>
<li><p>substantial speed improvement when combining several vectors with <em>many</em> cases (&gt; millions).</p></li>
<li><p>The number of threads to use can now be set permanently at the project level with the new argument <code>save</code> in the function <code>setFixest_nthreads</code>.</p></li>
</ul>
</div>
<div id="minor-breaking-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-breaking-changes" class="anchor"></a>Minor breaking changes</h2>
<ul>
<li>in <code>model.matrix</code> when <code>type = "lhs"</code> the return object is now a vector (previously it was a data.frame).</li>
</ul>
</div>
<div id="other-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes" class="anchor"></a>Other changes</h2>
<ul>
<li><p>Improve error messages.</p></li>
<li><p><code>hatvalues.fixest</code>: now returns an error instead of a message when fixed-effects are present (it makes the interplay with <code>sadnwich</code> ‘nicer’).</p></li>
</ul>
</div>
</div>
    <div id="fixest-084" class="section level1">
<h1 class="page-header" data-toc-text="0.8.4">
<a href="#fixest-084" class="anchor"></a>fixest 0.8.4<small> 2021-03-29 </small>
</h1>
<div id="bugs-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-1" class="anchor"></a>Bugs</h2>
<ul>
<li><p>Fix bug <code>depvar = FALSE</code> not working when tex output was requested (thanks to <a href='https://github.com/apoorvalal'>@apoorvalal</a> and <a href='https://github.com/pbaylis'>@pbaylis</a> <a href="https://github.com/lrberge/fixest/issues/104"><a href='https://github.com/lrberge/fixest/issues/104'>#104</a></a>).</p></li>
<li><p>Fix bug in naming when <code><a href="../reference/i.html">i()</a></code> led to only one variable being retained (thanks to @ colejharvey <a href="https://github.com/lrberge/fixest/issues/106"><a href='https://github.com/lrberge/fixest/issues/106'>#106</a></a>).</p></li>
<li><p>Fix bug display when only degrees of freedom are selected in <code>fitstat</code>.</p></li>
<li><p>Fix bug when <code>lean = TRUE</code> in IV estimations with fixed-effects (a large object was still present, thanks to <a href='https://github.com/zozotintin'>@zozotintin</a>).</p></li>
<li><p>Fix bug display of <code>etable</code> in Rmarkdown (thanks to <a href='https://github.com/kdzhang'>@kdzhang</a> <a href="https://github.com/lrberge/fixest/issues/93"><a href='https://github.com/lrberge/fixest/issues/93'>#93</a></a> and <a href='https://github.com/nikolassch'>@nikolassch</a> <a href="https://github.com/lrberge/fixest/issues/112"><a href='https://github.com/lrberge/fixest/issues/112'>#112</a></a>)</p></li>
<li><p>Improve error messages in <code>fitstat</code> when selecting statistics components.</p></li>
<li><p>Fix bug in <code>predict</code> when <code><a href="https://rdrr.io/r/stats/poly.html">poly()</a></code> was used in the estimation (thanks to <a href='https://github.com/tholdaway'>@tholdaway</a> <a href="https://github.com/lrberge/fixest/issues/109"><a href='https://github.com/lrberge/fixest/issues/109'>#109</a></a>).</p></li>
<li><p>Fix bug in <code>predict</code>: an error message would not pop when combined fixed-effects are used with <code>combine.quick = TRUE</code> (thanks to <a href='https://github.com/benzipperer'>@benzipperer</a> <a href="https://github.com/lrberge/fixest/issues/115"><a href='https://github.com/lrberge/fixest/issues/115'>#115</a></a>).</p></li>
<li><p>Fix bug to properly account for the nestedness of combined fixed-effects when clustered standard-errors are requested (thanks to <a href='https://github.com/Oravishayrizi'>@Oravishayrizi</a> <a href="https://github.com/lrberge/fixest/issues/116"><a href='https://github.com/lrberge/fixest/issues/116'>#116</a></a>).</p></li>
<li><p>Fig major bug in <code>model.matrix</code> that could make it very slow. Led the function <code>aggregate</code> to be very slow (thanks to Benny Goldman).</p></li>
<li><p>Fix bug that prevented <code>aggregate</code> to effectively use weights (thanks to Benny Goldman).</p></li>
</ul>
</div>
<div id="new-features-2" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-2" class="anchor"></a>New features</h2>
<ul>
<li><p><code>model.matrix</code> gains the new argument <code>subset</code> which allows the creation of the design matrix for a subset of variables only.</p></li>
<li><p><code>drop.section</code> now works for <code>etable</code> when <code>tex = FALSE</code>.</p></li>
<li><p>The argument <code>panel.id</code> used in all estimations can be set globally with the function <code>setFixest_estimation</code>.</p></li>
</ul>
</div>
<div id="other-changes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#other-changes-1" class="anchor"></a>Other changes</h2>
<ul>
<li><p><code>i</code>: Factor variables with only the values of 0 and 1 are treated as numeric.</p></li>
<li><p><code>fitstat</code>: The statistic <code>G</code> is now equal to the degrees of freedom used in the t-test of coefficients testing.</p></li>
<li><p><code>esttable</code> and <code>esttex</code> are not deprecated any more: they are now pure aliases of <code>etable</code>.</p></li>
<li><p><code>aggregate</code>: for weighted regressions, <code>use_weights</code> controls whether to use the weights to perform the aggregation.</p></li>
</ul>
</div>
</div>
    <div id="fixest-083-2021-03-01" class="section level1">
<h1 class="page-header" data-toc-text="0.8.3">
<a href="#fixest-083-2021-03-01" class="anchor"></a>fixest 0.8.3 (2021-03-01)<small> 2021-03-01 </small>
</h1>
<div id="bugs-2" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-2" class="anchor"></a>Bugs</h2>
<ul>
<li><p>Remove test that leads to a (uber odd) bug on fedora devel.</p></li>
<li><p>Fix bug in IV estimation when using factors as instrumented variables (thanks to <a href='https://github.com/adamaltmejd'>@adamaltmejd</a> <a href="https://github.com/lrberge/fixest/issues/99"><a href='https://github.com/lrberge/fixest/issues/99'>#99</a></a>).</p></li>
<li><p>Fix bug when using at least two fixed-effects and varying slopes with singletons (thanks to <a href='https://github.com/adamtheising'>@adamtheising</a> <a href="https://github.com/lrberge/fixest/issues/89"><a href='https://github.com/lrberge/fixest/issues/89'>#89</a></a>).</p></li>
</ul>
</div>
<div id="new-features-3" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-3" class="anchor"></a>New features</h2>
<ul>
<li>In <code>xpd</code>, macros are parsed even after creating the formula with the <code>lhs</code> and <code>rhs</code> arguments.</li>
</ul>
</div>
</div>
    <div id="fixest-082-2021-02-11" class="section level1">
<h1 class="page-header" data-toc-text="0.8.2">
<a href="#fixest-082-2021-02-11" class="anchor"></a>fixest 0.8.2 (2021-02-11)<small> 2021-02-11 </small>
</h1>
<div id="bugs-3" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-3" class="anchor"></a>Bugs</h2>
<ul>
<li><p>Fix bug in IV estimations when <code>lean = TRUE</code> (thanks to <a href='https://github.com/reifjulian'>@reifjulian</a> <a href="https://github.com/lrberge/fixest/issues/88"><a href='https://github.com/lrberge/fixest/issues/88'>#88</a></a>).</p></li>
<li><p>Fix various bugs related to the use of <code>summary</code> when <code>lean = TRUE</code> in the estimation.</p></li>
<li><p>Fix bug preventing <code>se = "cluster"</code> to be used in <code>etable</code> (thanks to Caleb Kwon).</p></li>
<li><p>Fix bug <code>etable</code> not escaping variable names properly when <code>sdBelow = FALSE</code> (thanks to Jeppe Viero).</p></li>
<li><p>Fix bug in IV estimation with <code>lean = TRUE</code>.</p></li>
<li><p>Fix bug preventing the return of demeaned variables in IV estimations (thanks to <a href='https://github.com/amarbler'>@amarbler</a> <a href="https://github.com/lrberge/fixest/issues/94"><a href='https://github.com/lrberge/fixest/issues/94'>#94</a></a>).</p></li>
</ul>
</div>
<div id="other-2" class="section level2">
<h2 class="hasAnchor">
<a href="#other-2" class="anchor"></a>Other</h2>
<ul>
<li><p><code><a href="../reference/i.html">i()</a></code> now automatically converts its first argument to numeric if it was of type logical. The user can still pass logicals to the argument <code>f2</code> if the expected behavior is really to treat it as a logical.</p></li>
<li><p>Improve <code>fitstat</code> help and error messages.</p></li>
</ul>
</div>
</div>
    <div id="fixest-081-2021-01-13" class="section level1">
<h1 class="page-header" data-toc-text="0.8.1">
<a href="#fixest-081-2021-01-13" class="anchor"></a>fixest 0.8.1 (2021-01-13)<small> 2021-01-13 </small>
</h1>
<div id="bugs-4" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-4" class="anchor"></a>Bugs</h2>
<ul>
<li><p>Bug in <code>etable</code> when the default value of <code>fitstat</code> was set with <code>setFixest_etable</code>.</p></li>
<li><p>Bug in <code>model.matrix</code> when the model contained fixed-effects and the RHS was requested: the intercept was wrongfully added.</p></li>
<li><p>Fix rare bug when <code><a href="../reference/i.html">i()</a></code> was called within a very specific set of functions.</p></li>
<li><p>Fix bug in R old release due to <code>anyNA.data.frame</code>.</p></li>
<li><p>Fix bug regarding <code>panel</code> data sets when variables were created in a <code>data.table</code> within functions (thanks to <a href='https://github.com/tcovert'>@tcovert</a> <a href="https://github.com/lrberge/fixest/issues/76"><a href='https://github.com/lrberge/fixest/issues/76'>#76</a></a>).</p></li>
<li><p>Add extra elements to be removed when <code>lean = TRUE</code> to keep the object as small as possible (reported by @ zozotintin <a href="https://github.com/lrberge/fixest/issues/81"><a href='https://github.com/lrberge/fixest/issues/81'>#81</a></a>).</p></li>
<li><p>Fix bug in fixed-effects estimations with multiple LHS and different number of observations per estimation that prevented to get the default behavior for standard-errors to work.</p></li>
<li><p>Fix occasional bug when using <code>split</code> with fixed-effects.</p></li>
<li><p><code>xpd</code> now appropriately returns a two sided formula when a one sided formula is fed in and the argument <code>lhs</code> is provided.</p></li>
<li><p>Fix bug in <code>coefplot</code> preventing the proper scaling of the x-axis for interactions when multiple models are displayed.</p></li>
<li><p>Fix occasional bug in the ordering of sub-selections of multiple estimations.</p></li>
</ul>
</div>
<div id="sun-and-abraham-method-for-staggered-did" class="section level2">
<h2 class="hasAnchor">
<a href="#sun-and-abraham-method-for-staggered-did" class="anchor"></a>Sun and Abraham method for staggered DiD</h2>
<ul>
<li><p>For staggered difference-in-difference analyzes: the method of Sun and Abraham (forthcoming, Journal of Econometrics) has been implemented.</p></li>
<li><p>After having used <code><a href="../reference/i.html">i()</a></code> to interact cohort dummies with time to treatment dummies, use the function <code>aggregate</code> to recover the yearly treatment effects.</p></li>
<li><p>So far the way to do it, although easy, is a bit arcane but the next versions of the software will include a user-friendly way.</p></li>
<li><p>For details, check out the help page of the function <code>aggregate</code> or the staggered DiD section in the vignette <a href="https://CRAN.R-project.org/package=fixest/vignettes/fixest_walkthrough.html">fixest walkthrough</a>.</p></li>
</ul>
</div>
<div id="new-features-4" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-4" class="anchor"></a>New features</h2>
<ul>
<li><p>Function <code><a href="../reference/i.html">i()</a></code> now has the new arguments <code>f2</code>, <code>drop2</code> and <code>keep2</code> which allows the interaction of two factors (useful for staggered DiD estimations).</p></li>
<li><p>Argument <code>dof</code>, used to compute the standard-errors, can now be used at estimation time.</p></li>
<li><p>In <code>etable</code>, the argument <code>digits</code> can now accepts a character value specifying the way the decimals should be displayed. For example if <code>digits = "r2"</code> this means that all numbers will be rounded at two decimals and these two decimals will always be displayed. The default behavior is to display significant digits. Follows feature request <a href="https://github.com/lrberge/fixest/issues/82"><a href='https://github.com/lrberge/fixest/issues/82'>#82</a></a> by <a href='https://github.com/lyifa'>@lyifa</a>.</p></li>
<li><p><code>etable</code> also gains the argument <code>digits.stats</code> which monitors how the fit statistics decimals should be displayed.</p></li>
<li><p>Argument <code>split</code> now accepts variable names.</p></li>
</ul>
</div>
<div id="other-3" class="section level2">
<h2 class="hasAnchor">
<a href="#other-3" class="anchor"></a>Other</h2>
<ul>
<li><p>More coherence regarding the use of <code>summary</code> applied to models for which the SEs were computed at estimation time. Now there is a memory of how the SEs were computed, so that, for example, if only the argument <code>dof</code> is passed to <code>summary</code>, then the SEs will be clustered in the same way as estimation time and only <code>dof</code> will change.</p></li>
<li><p>Now an error is raised when <code><a href="../reference/i.html">i()</a></code> is used in the fixed-effects part of the formula. The appropriate way is indicated (related to <a href="https://github.com/lrberge/fixest/issues/77"><a href='https://github.com/lrberge/fixest/issues/77'>#77</a></a> by <a href='https://github.com/rrichmond'>@rrichmond</a>).</p></li>
<li><p>Improved default setting of standard-errors.</p></li>
<li><p>Improved error messages.</p></li>
<li><p>In multiple estimations, models returning full NA coefficients are not returned (instead of raising an error).</p></li>
</ul>
</div>
</div>
    <div id="fixest-080-2020-12-14" class="section level1">
<h1 class="page-header" data-toc-text="0.8.0">
<a href="#fixest-080-2020-12-14" class="anchor"></a>fixest 0.8.0 (2020-12-14)<small> 2020-12-14 </small>
</h1>
<div id="bugs-5" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-5" class="anchor"></a>Bugs</h2>
<ul>
<li><p>Major bug when predict was used in the presence of fixed-effects (thanks to <a href='https://github.com/jurojas5'>@jurojas5</a>, <a href="https://github.com/lrberge/fixest/issues/54"><a href='https://github.com/lrberge/fixest/issues/54'>#54</a></a>). Introduced in version 0.7.</p></li>
<li><p>When using variable names to cluster the standard-errors inside functions, summary may not fetch the data in the right frame (thanks to <a href='https://github.com/chenwang'>@chenwang</a>, <a href="https://github.com/lrberge/fixest/issues/52"><a href='https://github.com/lrberge/fixest/issues/52'>#52</a></a>). Now a completely new internal mechanic is in place.</p></li>
<li><p>When using variables with varying slopes and the number of iterations is greater than 300, a bug occurred in the function checking the convergence was right (thanks to <a href='https://github.com/kendonB'>@kendonB</a>, <a href="https://github.com/lrberge/fixest/issues/53"><a href='https://github.com/lrberge/fixest/issues/53'>#53</a></a>).</p></li>
<li><p>Fix bug in the demeaning algorithm when two variables with varying slopes were identical.</p></li>
<li><p>Fix bug in femlm/feNmlm when factor variables are removed due to the removal of some observations.</p></li>
<li><p>In <code>summary</code>, fix bug when the argument <code>cluster</code> was equal to a formula with expressions and not a variable name (thanks to <a href='https://github.com/edrubin'>@edrubin</a> <a href="https://github.com/lrberge/fixest/issues/55"><a href='https://github.com/lrberge/fixest/issues/55'>#55</a></a>).</p></li>
<li><p>Fix bug when integers are present in the RHS (thanks to <a href='https://github.com/zozotintin'>@zozotintin</a> <a href="https://github.com/lrberge/fixest/issues/56"><a href='https://github.com/lrberge/fixest/issues/56'>#56</a></a>).</p></li>
<li><p>Fix bug when nb_FE &gt;= 2 and the data was large (thanks to <a href='https://github.com/zozotintin'>@zozotintin</a> <a href="https://github.com/lrberge/fixest/issues/56"><a href='https://github.com/lrberge/fixest/issues/56'>#56</a></a>).</p></li>
<li><p>Fix bug display of how the standard-errors were clustered in <code>etable</code>.</p></li>
<li><p>Fix bug occurring when lags were used in combination with combined fixed-effects (i.e. fe1 ^ fe2) (thanks to <a href='https://github.com/SuperMayo'>@SuperMayo</a> <a href="https://github.com/lrberge/fixest/issues/59"><a href='https://github.com/lrberge/fixest/issues/59'>#59</a></a>).</p></li>
<li><p>Fix bug <code>coefplot</code> when representing multiple estimations and coefficient names are numbers.</p></li>
</ul>
</div>
<div id="iv" class="section level2">
<h2 class="hasAnchor">
<a href="#iv" class="anchor"></a>IV</h2>
<ul>
<li>IV estimations are now supported. It is summoned by adding a formula defining the endogenous regressors and the instruments after a pipe.</li>
</ul>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">base</span> <span class="op">=</span> <span class="va">iris</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">base</span><span class="op">)</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="st">"x1"</span>, <span class="st">"x_endo"</span>, <span class="st">"x_inst"</span>, <span class="st">"species"</span><span class="op">)</span>
<span class="va">base</span><span class="op">$</span><span class="va">endo_bis</span> <span class="op">=</span> <span class="fl">0.5</span> <span class="op">*</span> <span class="va">base</span><span class="op">$</span><span class="va">y</span> <span class="op">+</span> <span class="fl">0.3</span> <span class="op">*</span> <span class="va">base</span><span class="op">$</span><span class="va">x_inst</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">150</span><span class="op">)</span>
<span class="va">base</span><span class="op">$</span><span class="va">inst_bis</span> <span class="op">=</span> <span class="fl">0.2</span> <span class="op">*</span> <span class="va">base</span><span class="op">$</span><span class="va">x_endo</span> <span class="op">+</span> <span class="fl">0.3</span> <span class="op">*</span> <span class="va">base</span><span class="op">$</span><span class="va">endo_bis</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html">rnorm</a></span><span class="op">(</span><span class="fl">150</span><span class="op">)</span>

<span class="co"># The endo/instrument is defined in a formula past a pipe</span>
<span class="va">res_iv1</span> <span class="op">=</span> <span class="fu"><a href="../reference/feols.html">feols</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">|</span> <span class="va">x_endo</span> <span class="op">~</span> <span class="va">x_inst</span>, <span class="va">base</span><span class="op">)</span>

<span class="co"># Same with the species fixed-effect</span>
<span class="va">res_iv2</span> <span class="op">=</span> <span class="fu"><a href="../reference/feols.html">feols</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">|</span> <span class="va">species</span> <span class="op">|</span> <span class="va">x_endo</span> <span class="op">~</span> <span class="va">x_inst</span>, <span class="va">base</span><span class="op">)</span>

<span class="co"># To add multiple endogenous regressors: embed them in c()</span>
<span class="va">res_iv3</span> <span class="op">=</span> <span class="fu"><a href="../reference/feols.html">feols</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">|</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">x_endo</span>, <span class="va">x_endo_bis</span><span class="op">)</span> <span class="op">~</span> <span class="va">x_inst</span> <span class="op">+</span> <span class="va">x_inst_bis</span>, <span class="va">base</span><span class="op">)</span></code></pre></div>
</div>
<div id="fit-statistics" class="section level2">
<h2 class="hasAnchor">
<a href="#fit-statistics" class="anchor"></a>fit statistics</h2>
<ul>
<li><p>The <code>fitstat</code> function has been significantly enhanced.</p></li>
<li>
<p>Now the following types are supported:</p>
<ul>
<li><p>Likelihood ratios</p></li>
<li><p>F-tests</p></li>
<li><p>Wald tests</p></li>
<li><p>IV related tests (F/Wald/Sargan)</p></li>
<li><p>common stats like the R2s, the RMSE, Log-likelihood, etc</p></li>
</ul>
</li>
<li><p>You can register your own fit statistics. These can then be seamlessly summoned in <code>etable</code> via the argument <code>fitstat</code>.</p></li>
<li><p>The <code>print.fixest</code> function now supports the <code>fitstat</code> argument. This means that you can display your own desired fit statistics when printing <code>fixest</code> objects. This is especially useful in combination with the <code>setFixest_print</code> function that allows to define the default fit statistics to display once and for all. See the example in the “Instrumental variables” section of the Walkthrough vignette.</p></li>
<li><p>The new function <code>wald</code> computes basic Wald tests.</p></li>
</ul>
</div>
<div id="multiple-estimations" class="section level2">
<h2 class="hasAnchor">
<a href="#multiple-estimations" class="anchor"></a>Multiple estimations</h2>
<ul>
<li><p>New arguments <code>split</code> and <code>fsplit</code>: you can now perform split sample estimations (<code>fsplit</code> adds the full sample).</p></li>
<li><p>Estimations for multiple left-hand-sides can be done at once by wrapping the variables in <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>.</p></li>
<li><p>In the right-hand-side and the fixed-effects parts of the formula, stepwise estimations can be performed with the new stepwise functions (<code>sw</code>, <code>sw0</code>, <code>csw</code> and <code>csw0</code>).</p></li>
<li><p>The object returned is of class <code>fixest_multi</code>. You can easily navigate through the results with its subset methods.</p></li>
</ul>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">aq</span> <span class="op">=</span> <span class="va">airquality</span><span class="op">[</span><span class="va">airquality</span><span class="op">$</span><span class="va">Month</span> <span class="op">%in%</span> <span class="fl">5</span><span class="op">:</span><span class="fl">6</span>, <span class="op">]</span>
<span class="va">est_split</span> <span class="op">=</span> <span class="fu"><a href="../reference/feols.html">feols</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">Ozone</span>, <span class="va">Solar.R</span><span class="op">)</span> <span class="op">~</span> <span class="fu"><a href="../reference/stepwise.html">sw</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/stats/poly.html">poly</a></span><span class="op">(</span><span class="va">Wind</span>, <span class="fl">2</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/stats/poly.html">poly</a></span><span class="op">(</span><span class="va">Temp</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>,
                 <span class="va">aq</span>, split <span class="op">=</span> <span class="op">~</span> <span class="va">Month</span><span class="op">)</span>
                 
<span class="co"># By default: sample is the root</span>
<span class="fu"><a href="../reference/etable.html">etable</a></span><span class="op">(</span><span class="va">est_split</span><span class="op">)</span>

<span class="co"># Let's reorder, by considering lhs the root</span>
<span class="fu"><a href="../reference/etable.html">etable</a></span><span class="op">(</span><span class="va">est_split</span><span class="op">[</span>lhs <span class="op">=</span> <span class="cn">TRUE</span><span class="op">]</span><span class="op">)</span>

<span class="co"># Selecting only one LHS and RHS</span>
<span class="fu"><a href="../reference/etable.html">etable</a></span><span class="op">(</span><span class="va">est_split</span><span class="op">[</span>lhs <span class="op">=</span> <span class="st">"Ozone"</span>, rhs <span class="op">=</span> <span class="fl">1</span><span class="op">]</span><span class="op">)</span>

<span class="co"># Taking the first root (here sample = 5)</span>
<span class="fu"><a href="../reference/etable.html">etable</a></span><span class="op">(</span><span class="va">est_split</span><span class="op">[</span>I <span class="op">=</span> <span class="fl">1</span><span class="op">]</span><span class="op">)</span>

<span class="co"># The first and last estimations</span>
<span class="fu"><a href="../reference/etable.html">etable</a></span><span class="op">(</span><span class="va">est_split</span><span class="op">[</span>i <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="va">.N</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></code></pre></div>
</div>
<div id="formula-macros" class="section level2">
<h2 class="hasAnchor">
<a href="#formula-macros" class="anchor"></a>Formula macros</h2>
<ul>
<li>The algorithm now accepts regular expressions with the syntax <code>..("regex")</code>:</li>
</ul>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="va">longley</span><span class="op">)</span>
<span class="co"># All variables containing "GNP" or "ployed" in their names are fetched</span>
<span class="fu"><a href="../reference/feols.html">feols</a></span><span class="op">(</span><span class="va">Armed.Forces</span> <span class="op">~</span> <span class="va">Population</span> <span class="op">+</span> <span class="fu">..</span><span class="op">(</span><span class="st">"GNP|ployed"</span><span class="op">)</span>, <span class="va">longley</span><span class="op">)</span></code></pre></div>
</div>
<div id="new-features-in-etable" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-in-etable" class="anchor"></a>New features in etable</h2>
<ul>
<li>
<p>New <code>style.tex</code> and <code>style.df</code> arguments that define the look of either Latex tables or the output data.frames.</p>
<ul>
<li><p>it can be set with the new functions <code>style.tex</code> and <code>style.df</code> that contain their own documentation.</p></li>
<li><p>some <code>etable</code> arguments have been ported to the <code>style</code> functions (<code>yesNo</code>, <code>tablefoot</code>).</p></li>
</ul>
</li>
<li><p>New <code>postprocess.tex</code> and <code>postprocess.df</code> arguments which allow the automatic postprocessing of the outputs. See the dedicated vignette on exporting tables for an illustration.</p></li>
<li><p>new <code>tabular</code> arguments which allows to create <code>tabular*</code> tables (suggestion by <a href='https://github.com/fostermeijer'>@fostermeijer</a> <a href="https://github.com/lrberge/fixest/issues/51"><a href='https://github.com/lrberge/fixest/issues/51'>#51</a></a>).</p></li>
<li><p>polynomials and powers are automatically renamed to facilitate comparison across models. You can set their style with the argument <code>poly_dict</code>.</p></li>
<li><p>the labeling of models is enhanced when <code>rep.fixest</code> is used with different standard-errors (the model names are now “model INDEX.SUB-INDEX”).</p></li>
<li><p>the argument <code>subtitles</code> has been improved, and now automatically displays the samples when split sample estimations are performed.</p></li>
</ul>
</div>
<div id="other-new-features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#other-new-features-1" class="anchor"></a>Other new features</h2>
<ul>
<li>
<p>In all estimations:</p>
<ul>
<li><p><code>subset</code>: regular subset (long overdue).</p></li>
<li><p><code>split</code>, <code>fsplit</code>: to perform split sample estimations.</p></li>
<li><p><code>se</code>, <code>cluster</code>: to cluster the standard-errors during the call.</p></li>
<li><p><code>lean</code>: if <code>TRUE</code>, then summary is applied and any large object is removed from the result. To save memory =&gt; but many methods won’t work afterwards.</p></li>
<li><p><code>fixef.rm</code>: argument that accepts <code>none</code>, <code>perfect</code>, <code>singleton</code>, <code>both</code>. Controls the removal of fixed-effects from the observation.</p></li>
<li><p>auto parsing of powers. Now you don’t need to use <code><a href="https://rdrr.io/r/base/AsIs.html">I()</a></code> to have powers of variables in the RHS, it is automatically done for you (i.e. <code>x^3</code> becomes <code><a href="https://rdrr.io/r/base/AsIs.html">I(x^3)</a></code>):</p></li>
</ul>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R">
<span class="va">base</span> <span class="op">=</span> <span class="va">iris</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">base</span><span class="op">)</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"y"</span>, <span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"x3"</span>, <span class="st">"species"</span><span class="op">)</span>

<span class="co"># The multiple estimation below works just fine</span>
<span class="fu"><a href="../reference/feols.html">feols</a></span><span class="op">(</span><span class="va">y</span> <span class="op">~</span> <span class="fu"><a href="../reference/stepwise.html">csw</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">x</span><span class="op">^</span><span class="fl">2</span>, <span class="va">x</span><span class="op">^</span><span class="fl">3</span><span class="op">)</span>, <span class="va">base</span><span class="op">)</span></code></pre></div>
</li>
<li><p>Estimation options can be set globally with <code><a href="../reference/setFixest_estimation.html">setFixest_estimation()</a></code>.</p></li>
<li><p>The <code>demean</code> function has been enhanced (with the contribution of Sebastian Krantz).</p></li>
</ul>
</div>
<div id="improvements-of-the-internal-algorithm" class="section level2">
<h2 class="hasAnchor">
<a href="#improvements-of-the-internal-algorithm" class="anchor"></a>Improvements of the internal algorithm</h2>
<ul>
<li><p>Internal demeaning algorithm: some copies of the data are avoided when using <code>feglm</code>.</p></li>
<li><p>Internal algorithm of <code>to_integer</code> (used in all estimations): one copy of the input data is now avoided.</p></li>
<li><p>All estimations: smarter handling of the intercept, thus avoiding the reconstruction of the design matrix.</p></li>
</ul>
</div>
</div>
    <div id="fixest-071-2020-10-27" class="section level1">
<h1 class="page-header" data-toc-text="0.7.1">
<a href="#fixest-071-2020-10-27" class="anchor"></a>fixest 0.7.1 (2020-10-27)<small> 2020-10-27 </small>
</h1>
<div id="hotfixes" class="section level2">
<h2 class="hasAnchor">
<a href="#hotfixes" class="anchor"></a>Hotfixes</h2>
<ul>
<li><p>Fix bug int overflow in estimations with only one variable.</p></li>
<li><p>Fix bug in tests occurring in R old release.</p></li>
<li><p>Fix bug in examples occurring in R old release.</p></li>
</ul>
</div>
<div id="improvements" class="section level2">
<h2 class="hasAnchor">
<a href="#improvements" class="anchor"></a>Improvements</h2>
<ul>
<li><p>Function <code><a href="../reference/i.html">i()</a></code> now behaves as <code><a href="https://rdrr.io/r/base/factor.html">factor()</a></code>, setting automatically a reference when appropriate.</p></li>
<li><p>Internal algorithm of <code><a href="../reference/i.html">i()</a></code> is much faster.</p></li>
</ul>
</div>
<div id="new-features-5" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-5" class="anchor"></a>New features</h2>
<ul>
<li><p>In <code>etable</code>, the user can now provide a type of clustering for each model.</p></li>
<li><p>New method <code>rep.fixest</code> to replicate fixest objects, mostly useful in <code>etable</code> when several SEs for the same models are to be reported.</p></li>
<li><p>Automatic fix when the variance is not positive definite.</p></li>
</ul>
</div>
</div>
    <div id="fixest-070-2020-10-24" class="section level1">
<h1 class="page-header" data-toc-text="0.7.0">
<a href="#fixest-070-2020-10-24" class="anchor"></a>fixest 0.7.0 (2020-10-24)<small> 2020-10-24 </small>
</h1>
<div id="bugs-6" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-6" class="anchor"></a>Bugs</h2>
<ul>
<li><p>Major bug when fixed-effects were combined with <code><a href="https://rdrr.io/r/base/Arithmetic.html">^</a></code> and they contained NAs (thanks to <a href='https://github.com/poliquin'>@poliquin</a> <a href="https://github.com/lrberge/fixest/issues/35"><a href='https://github.com/lrberge/fixest/issues/35'>#35</a></a>).</p></li>
<li><p>Bug when using lead/lags in estimations. The bug was due to a bug in a dependency (<a href="https://cran.r-project.org/package=dreamerr">dreamerr</a>) and was fixed. Now fixest requires <strong>dreamerr</strong> version &gt;= 1.2.1. Bug spotted by <a href='https://github.com/seunghoon001'>@seunghoon001</a> (<a href="https://github.com/lrberge/fixest/issues/44"><a href='https://github.com/lrberge/fixest/issues/44'>#44</a></a>).</p></li>
<li><p>Major bug when n_obs x n_vars &gt; 2B or n_obs x n_fixed-effects &gt; 2B. In such cases estimations could just not be done, even leading R to crash when using nthreads &gt; 1. The algorithm was fixed to allow datasets with up to 2B observations to be estimated in all circumstances. Bug reported, and many help for checking provided, by Howard Zihao Zhang.</p></li>
<li><p><code>coefplot</code>: Problem regarding interactions when observations, and hence coefficients, were removed from the estimation. Now the coefficients are removed from the plot. Bug reported by <a href='https://github.com/phisherblack'>@phisherblack</a> <a href="https://github.com/lrberge/fixest/issues/45"><a href='https://github.com/lrberge/fixest/issues/45'>#45</a></a>.</p></li>
<li><p><code>coefplot</code>: Corrected various bugs when asked for the plotting of several estimations.</p></li>
<li><p>Fix the stack imbalance warning (report by <a href='https://github.com/shoonlee'>@shoonlee</a>, <a href="https://github.com/lrberge/fixest/issues/46"><a href='https://github.com/lrberge/fixest/issues/46'>#46</a></a>).</p></li>
</ul>
</div>
<div id="internal-improvements" class="section level2">
<h2 class="hasAnchor">
<a href="#internal-improvements" class="anchor"></a>Internal improvements</h2>
<ul>
<li><p>Brand new internal algorithm which now uses closed form solutions when dealing with variables with varying slopes. This means that when variables with varying slopes are present, the algorithm is incomparably faster and more accurate.</p></li>
<li><p>Two deep copies of some data are now avoided in the demeaning function. This improves the performance in terms of memory footprint, and also makes the algorithm faster.</p></li>
</ul>
</div>
<div id="standard-errors-important-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#standard-errors-important-changes" class="anchor"></a>Standard-errors, important changes</h2>
<ul>
<li><p>New default values for standard-errors (only concerns multiway clustering). They become similar to <code>reghdfe</code> to increase cross-software comparability. Computing the standard-errors the old way is still possible using the argument <code>dof</code>. See the dedicated vignette: <a href="https://cran.r-project.org/package=fixest/vignettes/standard_errors.html">On standard errors</a>.</p></li>
<li><p>Name change in <code>summary</code>/<code>vcov</code>/<code>etable</code>: To get heteroskedasticity-robust standard-errors, <code>se = "hetero"</code> now replaces <code>se = "white"</code> to enhance clarity. Note that <code>se = "white"</code> still works.</p></li>
</ul>
</div>
<div id="new-function-fitstat" class="section level2">
<h2 class="hasAnchor">
<a href="#new-function-fitstat" class="anchor"></a>New function: <code>fitstat</code>
</h2>
<ul>
<li>New function <code>fitsat</code> that computes various fit statistics. It is integrated with <code>etable</code> and can be invoked with the argument <code>fitstat</code>. So far only two fit statistics are included, but more will come.</li>
</ul>
</div>
<div id="new-features-in-interact" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-in-interact" class="anchor"></a>New features in <code>interact()</code>
</h2>
<ul>
<li><p>You can now use <code><a href="../reference/i.html">i(var)</a></code> to treat the variable <code>var</code> as a factor. You can select which values to drop/keep with the respective arguments.</p></li>
<li><p>Using <code><a href="../reference/i.html">i(var)</a></code> leads to a special treatment of these variables in the functions <code>coefplot</code> and <code>etable</code>.</p></li>
</ul>
</div>
<div id="new-features-in-etable-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-in-etable-1" class="anchor"></a>New features in <code>etable</code>
</h2>
<ul>
<li><p>New argument <code>placement</code> to define the position of the float in Latex (suggestion by Caleb Kwon).</p></li>
<li><p>New argument <code>drop.section</code>, with which you can drop a) the fixed-effects, b) the variables with varying slopes, or c) the statistics, sections (suggestion by Caleb Kwon).</p></li>
<li><p>Fix glitch in help pages regarding the use of the ‘%’ (percentage) character in regular expressions.</p></li>
<li><p>Two new arguments <code>.vcov</code> and <code>.vcov_args</code> to compute the standard-errors with custom functions.</p></li>
<li><p>The number of observations (<code>n</code>) is now treated as a regular statistic and can be placed where one wants.</p></li>
<li><p>The statistics can now have custom aliases using the argument <code>dict</code>.</p></li>
<li><p>The overdispersion becomes a regular fit statistic that can be included (or not) using <code>fitstat</code>.</p></li>
<li><p>The dictionnary now applies to the factors of interactions, and the values of factors.</p></li>
</ul>
</div>
<div id="user-visible-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#user-visible-changes" class="anchor"></a>User visible changes</h2>
<ul>
<li>
<p>Argument <code>nthreads</code>:</p>
<ul>
<li><p>The new default of argument <code>nthreads</code> is 50% of all available threads.</p></li>
<li><p>Accepts new values: a) 0 means all available threads, b) a number strictly between 0 and 1 will represent the fraction of all threads to use.</p></li>
</ul>
</li>
<li>
<p>When setting formula macros:</p>
<ul>
<li>The functions <code>xpd</code> and <code>setFixest_fml</code> now accept character vectors and numeric scalars on top of formulas.</li>
</ul>
</li>
<li>
<p><code>demean</code>:</p>
<ul>
<li>speed improvement.</li>
</ul>
</li>
<li>
<p><code>coefplot</code>:</p>
<ul>
<li><p>The argument <code>group</code> now accepts a special character <code>"^^"</code>, when used, it cleans the beginning of the coefficient name. Very useful for, e.g., factors although factors created with <code><a href="../reference/i.html">i()</a></code> need not that.</p></li>
<li><p>When <code>horiz = TRUE</code>, the order of the coefficients is not reversed any more.</p></li>
</ul>
</li>
<li><p>Improved display of numbers in <code>print</code> method.</p></li>
<li><p>Added variables names to <code>X_demeaned</code> from <code>feols</code>.</p></li>
<li>
<p>Lagging functions:</p>
<ul>
<li><p>Now <code>time.step = NULL</code> by default, which means that the choice of how to lag is automatically set. This means that the default behavior for time variables equal to Dates or character values should be appropriate.</p></li>
<li><p>New operator <code>d</code> which is the difference operator.</p></li>
</ul>
</li>
<li>
<p>In all estimations:</p>
<ul>
<li>new argument <code>mem.clean</code>: internally, intermediary objects are removed as much as possible and <code><a href="https://rdrr.io/r/base/gc.html">gc()</a></code> is called before each memory intensive C++ section. Only useful when you’re at the edge of reaching the memory limit.</li>
<li>new output: <code>collin.min_norm</code>, this value informs on the possible presence of collinearity in the system of variables.</li>
<li>new arguments <code>only.env</code> and <code>env</code>:
<ul>
<li>The first, <code>only.env</code>, allows to recover only the environment used to perform the estimation (i.e. all the preprocessing done before the estimation).</li>
<li>The second, <code>env</code>, accepts a fixest environment created by <code>only.env</code>, and performs the estimation using this environment–all other arguments are ignored.</li>
<li>These changes are a prerequisite to the efficient implementation of bootstraping (since, by applying modifications directly in <code>env</code>, we cut all preprocessing).</li>
</ul>
</li>
</ul>
</li>
<li>
<p>In non-linear estimations:</p>
<ul>
<li>non-numeric variables can now be used.</li>
<li>argument <code>NL.start</code> now accepts numeric scalars, initializing all coefficients to the same value (avoids the use of the other argument <code>NL.start.init</code>).</li>
</ul>
</li>
<li>
<p><code>summary.fixest</code>:</p>
<ul>
<li>argument <code>.vcov</code> now accepts functions that compute the vcov. This ensures convenient compatibility with the <code>sandwich</code> package (compatibility is still not full though: bootstraped SEs don’t work yet).</li>
</ul>
</li>
<li>
<p><code>update.fixest</code>:</p>
<ul>
<li>new argument <code>evaluate</code> to ensure consistency with the <code>update</code> method from stats.</li>
</ul>
</li>
<li>
<p><code>feols</code> &amp; <code>feglm</code>:</p>
<ul>
<li>the Cholesky decomposition now checks for user interrupts (matters for models with MANY variables to estimate).</li>
</ul>
</li>
</ul>
</div>
<div id="deprecation" class="section level2">
<h2 class="hasAnchor">
<a href="#deprecation" class="anchor"></a>Deprecation</h2>
<ul>
<li>Argument <code>na_inf.rm</code> has been removed. It was present for historical reasons, and is removed to increase code clarity.</li>
</ul>
</div>
</div>
    <div id="fixest-060-2020-07-13" class="section level1">
<h1 class="page-header" data-toc-text="0.6.0">
<a href="#fixest-060-2020-07-13" class="anchor"></a>fixest 0.6.0 (2020-07-13)<small> 2020-07-13 </small>
</h1>
<div id="bugs-7" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-7" class="anchor"></a>Bugs</h2>
<ul>
<li><p>In <code>vcov</code>, the degree-of-freedom in the small sample correction correction was fixed to “nested” and couldn’t be modified, now corrected. Further, “nested” was not properly accounted for, now corrected.</p></li>
<li><p>In <code>etable</code>, <code>fitsat = FALSE</code> or <code>fitsat = NA</code> led to a bug.</p></li>
<li><p><code>r2</code>: bug when the estimation contained only fixed effects (thanks to Luis Fonseca <a href="https://github.com/lrberge/fixest/issues/27"><a href='https://github.com/lrberge/fixest/issues/27'>#27</a></a>).</p></li>
<li><p>Now the <code>BIC</code> of <code>feglm</code> is similar to the one of <code>glm</code>.</p></li>
<li><p>Bug in the log-likelihood in the presence of weights, now corrected.</p></li>
<li><p>Bug in <code>coefplot</code> when some interacted variables were removed because of collinearity. Now corrected.</p></li>
</ul>
</div>
<div id="new-vignettes" class="section level2">
<h2 class="hasAnchor">
<a href="#new-vignettes" class="anchor"></a>New vignettes</h2>
<ul>
<li><p>On standard-errors: how are the SEs computed in fixest and how to replicate the SEs from other software.</p></li>
<li><p>Exporting estimation tables: how to use efficiently <code>etable</code>, in particular how to customize the tables.</p></li>
</ul>
</div>
<div id="major-changes-etable" class="section level2">
<h2 class="hasAnchor">
<a href="#major-changes-etable" class="anchor"></a>Major changes: etable</h2>
<ul>
<li>
<p>New arguments: <code>group</code>, <code>extraline</code>, <code>notes</code>, <code>tablefoot</code>.</p>
<ul>
<li><p><code>group</code> allows to eliminate variables (like <code>drop</code>) and adds an extra line with TRUE/FALSE if the model contained those variables.</p></li>
<li><p><code>extraline</code> allows to add extra lines with any content.</p></li>
<li><p><code>notes</code> allows to add notes after the table (suggestion by <a href='https://github.com/bgchamps'>@bgchamps</a> <a href="https://github.com/lrberge/fixest/issues/25"><a href='https://github.com/lrberge/fixest/issues/25'>#25</a></a>).</p></li>
<li><p><code>tablefoot</code> controls whether the table footer, containing the type of standard-errors and the significance codes, should be displayed.</p></li>
</ul>
</li>
<li><p>Renaming: <code>yesNoFixef</code> =&gt; <code>yesNo</code>.</p></li>
<li><p>Most default values can be set globally with the new function <code>setFixest_etable</code>.</p></li>
</ul>
</div>
<div id="major-changes-dof" class="section level2">
<h2 class="hasAnchor">
<a href="#major-changes-dof" class="anchor"></a>Major changes: dof</h2>
<ul>
<li>Function <code>dof</code>, used to adjust the small sample corrections, is now much more complete and allows to replicate a large set of estimation results from alternative software.</li>
</ul>
</div>
<div id="user-visible-changes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#user-visible-changes-1" class="anchor"></a>User visible changes</h2>
<ul>
<li><p>You can now provide custom VCOVs to summary by using the argument <code>.vcov</code>.</p></li>
<li><p>A warning is now prompted when the maximum number of iterations of the algorithm is reached (suggestion by <a href='https://github.com/clukewatson'>@clukewatson</a> <a href="https://github.com/lrberge/fixest/issues/24"><a href='https://github.com/lrberge/fixest/issues/24'>#24</a></a>]).</p></li>
<li><p>The types of standard-errors can now be set globally with the function <code>setFixest_se</code> (suggestion by <a href='https://github.com/dlindzee'>@dlindzee</a> <a href="https://github.com/lrberge/fixest/issues/28"><a href='https://github.com/lrberge/fixest/issues/28'>#28</a></a>)</p></li>
<li><p>New <code>feols</code> argument <code>demeaned</code>. If <code>TRUE</code>, then the centered variables are returned (<code>y_demeaned</code> and <code>X_demeaned</code>). (Suggestion by Linus Holtermann.)</p></li>
<li><p><code>interact</code> gains two new arguments: <code>drop</code> and <code>keep</code> (suggestion by <a href='https://github.com/SuperMayo'>@SuperMayo</a> <a href="https://github.com/lrberge/fixest/issues/23"><a href='https://github.com/lrberge/fixest/issues/23'>#23</a></a>).</p></li>
</ul>
</div>
<div id="new-methods" class="section level2">
<h2 class="hasAnchor">
<a href="#new-methods" class="anchor"></a>New methods</h2>
<ul>
<li><p><code>hatvalues</code> has been implemented for feols and feglm estimations.</p></li>
<li><p>the <code>estfun</code> from <code>sandwich</code> has been implemented.</p></li>
</ul>
</div>
</div>
    <div id="fixest-051-2020-06-18" class="section level1">
<h1 class="page-header" data-toc-text="0.5.1">
<a href="#fixest-051-2020-06-18" class="anchor"></a>fixest 0.5.1 (2020-06-18)<small> 2020-06-18 </small>
</h1>
<div id="hotfix" class="section level2">
<h2 class="hasAnchor">
<a href="#hotfix" class="anchor"></a>Hotfix</h2>
<ul>
<li>Fixed bug introduced in the previous update (memory access error). Does not affect any of the results but could lead R to crash unexpectedly (odds were low though since access was adjacent).</li>
</ul>
</div>
<div id="bugs-8" class="section level2">
<h2 class="hasAnchor">
<a href="#bugs-8" class="anchor"></a>Bugs</h2>
<ul>
<li>Fix image link to the equation in the README.md.</li>
<li>Fix bug R2 and logLik when observations were removed because of NA values. Due to the update in <code>residuals.fixest</code>.</li>
</ul>
</div>
<div id="user-visible-change" class="section level2">
<h2 class="hasAnchor">
<a href="#user-visible-change" class="anchor"></a>User visible change</h2>
<ul>
<li>Rewriting of the internal algorithm computing the VCOV. 1) About 30% performance gain for estimations with many variables. 2) The code is much less memory hungry.</li>
</ul>
</div>
<div id="major-update-of-etable" class="section level2">
<h2 class="hasAnchor">
<a href="#major-update-of-etable" class="anchor"></a>Major update of <code>etable</code>
</h2>
<ul>
<li>New argument <code>style</code> which allows to set many elements of the output table.</li>
<li>(minor) <code>signifCode</code> can be equal to <code>"letters"</code> to display letters instead of stars.</li>
</ul>
</div>
<div id="other-4" class="section level2">
<h2 class="hasAnchor">
<a href="#other-4" class="anchor"></a>Other</h2>
<ul>
<li>
<code>setFixest_nthreads</code> now respects the <code>OMP_THREAD_LIMIT</code> environment variable.</li>
<li>Rd links are now made to the proper htlm files.</li>
</ul>
</div>
</div>
    <div id="fixest-050-2020-06-10" class="section level1">
<h1 class="page-header" data-toc-text="0.5.0">
<a href="#fixest-050-2020-06-10" class="anchor"></a>fixest 0.5.0 (2020-06-10)<small> 2020-06-10 </small>
</h1>
<div id="bug-fixes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-2" class="anchor"></a>Bug fixes</h2>
<ul>
<li>Bug with estimations with varying slopes if the fixed-effect relative to the slope is not in its decreasing order (thanks to Davide Proserpio).</li>
<li>Bug when interacting two variables with the <code>var::fe</code> syntax with <code>confirm = TRUE</code> and no reference.</li>
<li>Bug in <code>etable</code> when the standard-errors where <code>NA</code>.</li>
<li>Fixed very minor bug when computing the SEs (1e-6 difference).</li>
<li>Standard-errors in <code>feglm</code> for non-poisson, non-binomial families, are now correct (minor differences).</li>
<li>
<code>fixef</code> did not work when the slope was an integer, now corrected (thanks to <a href='https://github.com/clerousset'>@clerousset</a> <a href="https://github.com/lrberge/fixest/issues/20"><a href='https://github.com/lrberge/fixest/issues/20'>#20</a></a>).</li>
</ul>
</div>
<div id="new-functionality-formula-macros" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functionality-formula-macros" class="anchor"></a>New functionality: formula macros</h2>
<ul>
<li>You can use macros in formulas.</li>
<li>To set a macro variable, use e.g., <code><a href="../reference/setFixest_fml.html">setFixest_fml(..ctrl = ~ var1 + var2)</a></code>. Here the macro variable <code>..ctrl</code> has been set to the value <code>"var1 + var2"</code>.</li>
<li>Now you can use this macro variable in any <code>fixest</code> estimation: e.g. <code><a href="https://rdrr.io/r/utils/data.html">data(airquality) ; setFixest_fml(..ctrl = ~ Temp + Day) ; feols(Ozone ~ Wind + ..ctrl, airquality)</a></code>.</li>
<li>You can use macros in non-fixest estimations with <code>xpd</code>, which expands formulas. E.g. <code><a href="https://rdrr.io/r/stats/lm.html">lm(xpd(Ozone ~ Wind + ..ctrl), airquality)</a></code>.</li>
</ul>
</div>
<div id="new-functions-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions-1" class="anchor"></a>New functions</h2>
<ul>
<li>
<code>to_integer</code>: user-level version of the internal algorithm transforming any kind of vector (or combination of vectors) into an integer ranging from 1 to the number of unique elements of the vector. Very fast.</li>
<li>
<code>demean</code>: user-level version of the demeaning algorithm used in <code>feols</code>.</li>
</ul>
</div>
<div id="major-user-visible-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#major-user-visible-changes" class="anchor"></a>Major user-visible changes</h2>
<ul>
<li>
<p>New internal algorithm to estimate OLS (applies to both <code>feols</code> and <code>feglm</code>):</p>
<ol>
<li><p>It is numerically more stable.</p></li>
<li><p>Incomparably faster when factors are to be estimated (and not explicitly used as fixed-effects).</p></li>
<li><p>Collinear variables are removed on the fly.</p></li>
</ol>
</li>
</ul>
</div>
<div id="user-visible-changes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#user-visible-changes-2" class="anchor"></a>User-visible changes</h2>
<ul>
<li>Interactions in <code>var::fe(ref)</code> now accept multiple references (i.e. <code>ref</code> can be a vector).</li>
<li>In <code>etable</code>, the variable names of non-Latex output can now be changed.</li>
<li>You can use the argument <code>n</code> when applying summary to choose the number of coefficients to display.</li>
<li>Argument <code>confirm</code> has been removed from the function <code>interact</code>.</li>
<li>
<code>r2</code> allows more flexibility in the keywords it accepts.</li>
<li>Function <code>dof</code> gains a new argument <code>adj</code> which allows to make different types of common small sample corrections. Its other arguments have been renamed for clarity (<code>fixef</code> =&gt; <code>fixef.K</code>, <code>exact</code> =&gt; <code>fixef.exact</code>, <code>cluster</code> =&gt; <code>cluster.adj</code>).</li>
<li>Now t-statistics are used for <code>feols</code> and non-poisson, non-binomial models in <code>feglm</code>. For all other models, z-statistics are used. This complies with the default’s R-stats behavior.</li>
</ul>
</div>
<div id="new-methods-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-methods-1" class="anchor"></a>New Methods</h2>
<ul>
<li>The <code>residuals</code> method has been substantially improved, now allowing different types.</li>
<li>New stats methods: sigma, deviance, weights.</li>
</ul>
</div>
<div id="vignette-and-readme" class="section level2">
<h2 class="hasAnchor">
<a href="#vignette-and-readme" class="anchor"></a>Vignette and Readme</h2>
<ul>
<li>Typos corrected.</li>
<li>Images in the Readme set to 1200px.</li>
</ul>
</div>
<div id="issue-found-convergence-problems-with-multiples-variables-with-varying-slopes" class="section level2">
<h2 class="hasAnchor">
<a href="#issue-found-convergence-problems-with-multiples-variables-with-varying-slopes" class="anchor"></a>Issue found: convergence problems with multiples variables with varying slopes</h2>
<ul>
<li>Convergence problems may arise in the presence of <strong>multiple</strong> variables with varying slopes. Theoretical work helped find a solution to this problem, but the implementation in R is proving not instantaneous.</li>
<li>In the meantime, now a warning is prompted when the algorithm suspects a convergence problem leading to poor precision of the estimated coefficients.</li>
</ul>
</div>
<div id="error-handling" class="section level2">
<h2 class="hasAnchor">
<a href="#error-handling" class="anchor"></a>Error-handling</h2>
<ul>
<li>Improved error-handling with <a href="https://cran.r-project.org/package=dreamerr">dreamerr</a>’s functions.</li>
</ul>
</div>
<div id="other-5" class="section level2">
<h2 class="hasAnchor">
<a href="#other-5" class="anchor"></a>Other</h2>
<ul>
<li>Dependency to MASS has been removed.</li>
</ul>
</div>
</div>
    <div id="fixest-041-2020-04-13" class="section level1">
<h1 class="page-header" data-toc-text="0.4.1">
<a href="#fixest-041-2020-04-13" class="anchor"></a>fixest 0.4.1 (2020-04-13)<small> 2020-04-14 </small>
</h1>
<div id="bug-fixes-3" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fixes-3" class="anchor"></a>Bug fixes</h2>
<ul>
<li>Major bug leading R to crash when using non-linear-in-parameters right-hand-sides in feNmlm. Only occured when some observations were removed from the data set (due to NAness or to perfect fit). <a href="https://github.com/lrberge/fixest/issues/17">Thanks to <a href='https://github.com/marissachilds'>@marissachilds</a>, GH issue [<a href='https://github.com/lrberge/fixest/issues/17'>#17</a>]</a>.]</li>
<li>In the <code>collinearity</code> help pages: an example could lead to an error (due to random data generation). It has been removed.</li>
<li>In <code>collinearity</code>, corrected the problem of display of the intercept in some situations.</li>
<li>Defaults for the arguments <code>cex</code> and <code>lwd</code> in <code>coefplot</code> have been changed to 1 and 1 (instead of par(“cex”) and par(“lwd”)). Otherwise this led to the creation of <code>Rplots.pdf</code> in the working directory (thanks to Kurt Hornik).</li>
<li>Corrected a typo in the article’s title in the vignette.</li>
</ul>
</div>
<div id="help" class="section level2">
<h2 class="hasAnchor">
<a href="#help" class="anchor"></a>Help</h2>
<ul>
<li>Rewriting of sections, correction of small mistakes (wrong argument names), dropping completely the ‘cluster’ terminology (meant for fixed-effects), addition of what is contained in fixest objects.</li>
</ul>
</div>
<div id="other-6" class="section level2">
<h2 class="hasAnchor">
<a href="#other-6" class="anchor"></a>Other</h2>
<ul>
<li>Adding a README.md.</li>
<li>Small corrections in the vignette.</li>
</ul>
</div>
</div>
    <div id="fixest-040-2020-03-27" class="section level1">
<h1 class="page-header" data-toc-text="0.4.0">
<a href="#fixest-040-2020-03-27" class="anchor"></a>fixest 0.4.0 (2020-03-27)<small> 2020-03-29 </small>
</h1>
<div id="user-visible-changes-latex-export" class="section level2">
<h2 class="hasAnchor">
<a href="#user-visible-changes-latex-export" class="anchor"></a>User visible changes: Latex export</h2>
<ul>
<li>Better Latex special character escaping (errors reported by <a href='https://github.com/dlindzee'>@dlindzee</a> <a href="https://github.com/lrberge/fixest/issues/15"><a href='https://github.com/lrberge/fixest/issues/15'>#15</a></a>).</li>
<li>New argument <code>fixef_sizes.simplify</code>, which provides the sizes of the fixed-effects in parentheses when there is no ambiguity.</li>
<li>You can suppress the line with the significance codes with <code>signifCode = NA</code>.</li>
<li>New argument <code>float</code> which decides whether to embed the table into a table environment. By default it is set to <code>TRUE</code> if a <code>title</code> or <code>label</code> is present.</li>
<li>New argument <code>keep</code> to select the variables to keep in the table.</li>
<li>New way to keep/drop/order variables with the special argument “%”. If you use “%var”, then it makes reference to the original variable name, not the aliased one (which is the default).</li>
<li>New argument <code>coefstat</code> defining what should be shown below the coefficients (standard-errors, t-stats or confidence intervals). Suggestion by <a href='https://github.com/d712'>@d712</a> <a href="https://github.com/lrberge/fixest/issues/16"><a href='https://github.com/lrberge/fixest/issues/16'>#16</a></a>.</li>
<li>Better rendering of significant digits.</li>
</ul>
</div>
<div id="user-visible-changes-coefplot" class="section level2">
<h2 class="hasAnchor">
<a href="#user-visible-changes-coefplot" class="anchor"></a>User visible changes: coefplot</h2>
<ul>
<li>Argument <code>horiz</code>. The coefficients can now be displayed horizontally instead of vertically.</li>
<li>The coefficient labels, when in the x-axis, can now be displayed in three different ways thanks to the new argument <code>lab.fit</code>: “simple”, the classic axis, “multi”, the labels appear across multiple lines to avoid collision, and “tilted” for tilted labels.</li>
<li>The margins now automatically fit.</li>
<li>Argument <code>style</code> allows you to set styles with the function <code>setFixest_coefplot</code>, you can then summon the style in <code>coefplot</code> with this argument.</li>
<li>Use the ampersand to set dictionary variables specific to <code>coefplot</code>.</li>
<li>Better display of groups (with the arguments <code>group</code> and <code>group.par</code>).</li>
</ul>
</div>
<div id="new-methods-2" class="section level2">
<h2 class="hasAnchor">
<a href="#new-methods-2" class="anchor"></a>New methods</h2>
<ul>
<li>
<code>terms.fixest</code> giving the terms of the estimation.</li>
</ul>
</div>
<div id="other-7" class="section level2">
<h2 class="hasAnchor">
<a href="#other-7" class="anchor"></a>Other</h2>
<ul>
<li>All <code>donttest</code> sections were removed from help pages.</li>
</ul>
</div>
</div>
    <div id="fixest-031-2020-02-09" class="section level1">
<h1 class="page-header" data-toc-text="0.3.1">
<a href="#fixest-031-2020-02-09" class="anchor"></a>fixest 0.3.1 (2020-02-09)<small> 2020-02-09 </small>
</h1>
<div id="major-bug-fix" class="section level2">
<h2 class="hasAnchor">
<a href="#major-bug-fix" class="anchor"></a>Major bug fix</h2>
<ul>
<li>[panel] Fixed faulty memory access when taking the lead of a variable.</li>
</ul>
</div>
<div id="other-bug-fixes" class="section level2">
<h2 class="hasAnchor">
<a href="#other-bug-fixes" class="anchor"></a>Other bug fixes</h2>
<ul>
<li>[esttable/esttex] These two functions were replaced by the function <code>etable</code>. In the process, some of their arguments were “lost”, this is now corrected.</li>
<li>[etable] Better escaping of special characters.</li>
<li>[estimations] Bug when particular non-numeric vectors were used in explanatory variables.</li>
</ul>
</div>
<div id="new-features-6" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-6" class="anchor"></a>New features</h2>
<ul>
<li>[coefplot] The function <code>coefplot</code> now accepts lists of estimations.</li>
</ul>
</div>
</div>
    <div id="fixest-030-2020-02-01" class="section level1">
<h1 class="page-header" data-toc-text="0.3.0">
<a href="#fixest-030-2020-02-01" class="anchor"></a>fixest 0.3.0 (2020-02-01)<small> 2020-02-01 </small>
</h1>
<div id="new-feature-lagging" class="section level2">
<h2 class="hasAnchor">
<a href="#new-feature-lagging" class="anchor"></a>New feature: Lagging</h2>
<ul>
<li><p>You can now add lags and leads in any <code>fixest</code> estimations. You only need to provide the panel identifiers with the new argument <code>panel.id</code>, then you’re free to use the new functions <code><a href="../reference/f.html">l()</a></code> for lags and <code><a href="../reference/f.html">f()</a></code> for leads.</p></li>
<li><p>You can also set up a panel data set using the function <code>panel</code> which allows you to use the lagging functions without having to provide the argument <code>panel.id</code>, and which dispose of more options for setting the panel.</p></li>
</ul>
</div>
<div id="new-feature-interactions" class="section level2">
<h2 class="hasAnchor">
<a href="#new-feature-interactions" class="anchor"></a>New feature: Interactions</h2>
<ul>
<li><p>You can now add interactions in formulas with a new syntax: <code>var::fe(ref)</code></p></li>
<li><p>The command <code>var::fe(ref)</code> interacts the variable <code>var</code> with each value of <code>fe</code> and sets <code>ref</code> as a reference. Note that if you don’t use the argument <code>ref</code>, the command <code>var::fe</code> is identical to <code>var:factor(fe)</code>.</p></li>
<li><p>Using <code>var::fe(ref)</code> to write interactions opens up a special treatment of such variables in the exporting function <code>etable</code> and in the coefficient plotting function <code>coefplot</code>.</p></li>
</ul>
</div>
<div id="new-feature-coefplot" class="section level2">
<h2 class="hasAnchor">
<a href="#new-feature-coefplot" class="anchor"></a>New feature: <code>coefplot</code>
</h2>
<ul>
<li><p>You can plot coefficients and their associated confidence intervals with the function <code>coefplot</code>.</p></li>
<li><p><code>coefplot</code> dispose of many options, whose default values can be set with the function <code>setFixest_coefplot</code>.</p></li>
<li><p>As for the function <code>etable</code>, you can easily rename/drop/order the coefficients.</p></li>
<li><p><code>coefplot</code> detects when interactions have been used and offers a special display for it.</p></li>
</ul>
</div>
<div id="new-functions-2" class="section level2">
<h2 class="hasAnchor">
<a href="#new-functions-2" class="anchor"></a>New functions</h2>
<ul>
<li><p>[etable] Estimations table: new function to export the results of multiple estimations. Replaces the two functions <code>esttex</code> and <code>esttable</code> (the two functions still exist but they will be deprecated in the future).</p></li>
<li><p>[Lagging] New functions related to lagging: <code>l</code>, <code>f</code>, <code>panel</code>, <code>unpanel</code> and <code>[.fixest_panel</code>.</p></li>
<li><p>[Utilities] A set of small utility functions has been added. They allow to extract part a coefficient table or parts of it (like the t-statistics of the standard-error) from an estimation. These functions are <code>coeftable</code>, <code>ctable</code> (an alias to <code>coeftable</code>), <code>se</code>, <code>tstat</code> and <code>pvalue</code>.</p></li>
<li><p>[coefplot] The functions <code>coefplot</code> and <code>setFixest_coefplot</code>.</p></li>
<li><p>[dof] New function to set the type of degree of freedom adjustment when computing the variance-covariance matrix. You can permanently set the type of DoF adjustment with the new function setFixest_dof().</p></li>
</ul>
</div>
<div id="user-visible-changes-3" class="section level2">
<h2 class="hasAnchor">
<a href="#user-visible-changes-3" class="anchor"></a>User visible changes</h2>
<ul>
<li>[all estimations] A key pre-processing step has been paralellized =&gt; algorithm faster in general and much faster for multi-FEs.</li>
<li>[predict &amp; fitted] Predict and fitted now returns vectors of the length equal to the one of original data.</li>
<li>[standard-errors] New ways to compute the standard-errors have been implemented. In particular, now it account for the “nestedness” of the fixed-effects in the clusters by default. You can freely change how to compute the degrees of freedom correction with the function dof().</li>
<li>[r2] Computation of the within-R2 for feglm models is now self-contained.</li>
<li>[all estimations] New, more accurate, stopping criterion for 2+ fixed-effects.</li>
<li>[feols] Estimations are slightly faster.</li>
<li>[etable/esttex] When there are interactions, R may change the order of the interactions, making two interactions in two different estimations look different while they are in fact the same (e.g. x3:x2 and x2:x3). Now esstable automatically reorders the interactions when needed for comparison across estimations.</li>
<li>[etable/esttable] The type of standard errors is now always shown.</li>
<li>[etable/esttex] The aliases provided by ‘dict’ are also applied within interactions. For example: <code>dict=c(x1="Wind", x2="Rain")</code>, with an estimation with the following variables ‘x1’, ‘x2’, ‘x1:x2’ will lead to the following aliases in Latex ‘Wind’, ‘Rain’ and ‘Wind <span class="math inline"><em>t</em><em>i</em><em>m</em><em>e</em><em>s</em></span> Rain’.</li>
<li>[etable/esttex] Interactions of similar values but of different order (e.g. x1:x2 and x2:x1) are reorderd to appear in the same lines.</li>
<li>[etable/esttex] The i) type of standard errors and ii) the significance codes, are now displayed in two separate lines (otherwise the line would be too wide).</li>
<li>[etable/esttex] Argument <code>yesNoFixef</code> can be of length one, defaulting the second element to the empty string.</li>
<li>[etable/esttex] Escaping of Latex special characters is now much more robust.</li>
</ul>
</div>
<div id="bug-correction" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-correction" class="anchor"></a>Bug correction</h2>
<ul>
<li>[all estimations] Fixed: bug when functions in the formula returned matrices.</li>
<li>[update] Fixed: error message when the data is missing.</li>
<li>[feglm] Fixed: bug double estimation when family not equal to poisson or logit</li>
<li>[feglm] Fixed: severe bug occurring for families not equal to poisson or logit</li>
<li>[predict] Fixed: bug when the estimation contained combined FEs.</li>
<li>[summary] Regarding small sample only: now Student t distribution is used instead of the Normal to compute the pvalue.</li>
<li>[esttex] Different variables with the same aliases (given by the argument ‘dict’) now appear in the same row.</li>
<li>[esttex] Arguments ‘drop’ and ‘order’ are now applied post aliasing (alias given by the argument ‘dict’).</li>
<li>[esttex] But when exporting multi-way standard errors.</li>
<li>[r2] Small bug regarding objects obtained with <code>did_estimate_yearly_effects</code>.</li>
<li>[estimations] bug when using weights in <code>feglm</code>.</li>
</ul>
</div>
</div>
    <div id="fixest-021-2019-11-22" class="section level1">
<h1 class="page-header" data-toc-text="0.2.1">
<a href="#fixest-021-2019-11-22" class="anchor"></a>fixest 0.2.1 (2019-11-22)<small> 2019-11-23 </small>
</h1>
<div id="major-bug-correction" class="section level2">
<h2 class="hasAnchor">
<a href="#major-bug-correction" class="anchor"></a>Major bug correction</h2>
<ul>
<li>lag.formula: Bug introduced from previous update which could lead to wrong results. Now fixed.</li>
</ul>
</div>
<div id="major-user-visible-changes-1" class="section level2">
<h2 class="hasAnchor">
<a href="#major-user-visible-changes-1" class="anchor"></a>Major user visible changes</h2>
<ul>
<li>[All estimation methods] Significant speed improvement when the fixed-effects variables (i.e. the identifiers) are string vectors.</li>
</ul>
</div>
</div>
    <div id="fixest-020-2019-11-19" class="section level1">
<h1 class="page-header" data-toc-text="0.2.0">
<a href="#fixest-020-2019-11-19" class="anchor"></a>fixest 0.2.0 (2019-11-19)<small> 2019-11-19 </small>
</h1>
<div id="new-function-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-function-1" class="anchor"></a>New function</h2>
<p>-[did_means] New function <code>did_means</code> to conveniently compare means of groups of observations (both treat/control and pre/post). Contains tools to easily export in Latex.</p>
</div>
<div id="major-user-visible-changes-2" class="section level2">
<h2 class="hasAnchor">
<a href="#major-user-visible-changes-2" class="anchor"></a>Major user visible changes</h2>
<ul>
<li>[All estimation methods] Significant speed improvement when the fixed-effects variables (i.e. the identifiers) are of type integer or double.</li>
<li>[esttex, esttable] New argument ‘fitstat’ to select which fit statistic to display. The default adapts to the models. Old arguments (loglik, bic, aic, sq.cor) are dropped.</li>
<li>[esttable] Significantly better rendering of SE types.</li>
<li>[r2] Now NA is returned for R2s that have no theoretical justification (e.g. within R2 when no FEs, or ‘regular’ R2 for ML models).</li>
</ul>
</div>
<div id="minor-user-visible-changes" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-user-visible-changes" class="anchor"></a>Minor user visible changes</h2>
<ul>
<li>[did_plot_yearly_effects] Now the name of the dependent variable appears on the y-axis.</li>
<li>[esttex] Usage of the <code>sym</code> macro in Latex is dropped.</li>
</ul>
</div>
<div id="bug-correction-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-correction-1" class="anchor"></a>Bug correction</h2>
<ul>
<li>[fixef.fixest] bug could appear when using varying slopes coefficients in some specific circumstances (when the slope FEs were different from the regular FEs).</li>
<li>[fixef.fixest] bug when many regular FEs jointly with varying slopes.</li>
<li>[fixef.fixest] regarding slope coefficients: now the algorithm also evaluates functions of variables.</li>
<li>[esttable] Width of the “separating lines” now appropriately set for long dependent variable names.</li>
<li>[esttex] Spelling mistake corrected.</li>
<li>[estimations] Bug could occur for extremely small data sets (&lt; 10 observations).</li>
</ul>
</div>
<div id="error-handling-1" class="section level2">
<h2 class="hasAnchor">
<a href="#error-handling-1" class="anchor"></a>Error handling</h2>
<ul>
<li>[esttex, esttable] More informative error messages in functions esttex and esttable.</li>
</ul>
</div>
</div>
    <div id="fixest-012-2019-10-04" class="section level1">
<h1 class="page-header" data-toc-text="0.1.2">
<a href="#fixest-012-2019-10-04" class="anchor"></a>fixest 0.1.2 (2019-10-04)<small> 2019-10-04 </small>
</h1>
<div id="major-bug-correction-1" class="section level2">
<h2 class="hasAnchor">
<a href="#major-bug-correction-1" class="anchor"></a>Major bug correction</h2>
<ul>
<li>lag.formula: When the data was not in a particular format, the results could be wrong. Now corrected.</li>
</ul>
</div>
</div>
    <div id="fixest-011-2019-09-20" class="section level1">
<h1 class="page-header" data-toc-text="0.1.1">
<a href="#fixest-011-2019-09-20" class="anchor"></a>fixest 0.1.1 (2019-09-20)<small> 2019-09-20 </small>
</h1>
<div id="major-bug-correction-2" class="section level2">
<h2 class="hasAnchor">
<a href="#major-bug-correction-2" class="anchor"></a>Major bug correction</h2>
<ul>
<li>feglm: bug when a) the deviance at initialization was higher than the deviance of the first iteration of the IRWLS and b) the step-halving was unable to find a lower deviance. This led the estimation to fail with an error although it should have been performed properly.</li>
<li>did_estimate_yearly_effects: bug when the estimation involved periods with negative values.</li>
</ul>
</div>
<div id="minor-bug-correction" class="section level2">
<h2 class="hasAnchor">
<a href="#minor-bug-correction" class="anchor"></a>Minor bug correction</h2>
<ul>
<li>esttex: bug regarding the number of digits of negative coefficients to be displayed</li>
<li>esttex: now properly escaping the percentage and the underscore for exports in Latex</li>
<li>esttex: bug when changing the names of the dependent variables using a dictionnary</li>
<li>vcov: some warning messages were misleading</li>
<li>update: bug update when using the argument nframes</li>
<li>update: bug when updating the function fepois</li>
</ul>
</div>
<div id="error-handling-2" class="section level2">
<h2 class="hasAnchor">
<a href="#error-handling-2" class="anchor"></a>Error handling</h2>
<ul>
<li>Better error messages for: did_estimate_yearly_effects, main estimation functions, setFixest_dict, fepois and fenegbin.</li>
</ul>
</div>
</div>
    <div id="fixest-010-2019-09-03" class="section level1">
<h1 class="page-header" data-toc-text="0.1.0">
<a href="#fixest-010-2019-09-03" class="anchor"></a>fixest 0.1.0 (2019-09-03)<small> 2019-09-03 </small>
</h1>
<div id="first-version" class="section level2">
<h2 class="hasAnchor">
<a href="#first-version" class="anchor"></a>First version</h2>
<ul>
<li><p>This package is an effort to create a family of fast and user-friendly functions to perform estimations with multiple fixed-effects (F.E.).</p></li>
<li><p>Estimations with fixed-effects (or call it factor variables) is a staple in social science. Hence having a package gathering many methods with fast execution time is of prime importance. At the time of this version, this is the fastest existing method to perform F.E. estimations (often by orders of magnitude, compared to the most efficient alternative methods [both in R and Stata]). The underlying method to obtain the F.E. is based on Berge 2018, and the workhorse of the code is in c++ parallelized via OpenMP (btw thanks Rcpp for simplifying coders’ life!).</p></li>
<li><p>This package is the follow up of the (now deprecated) package <code>FENmlm</code> which performed fixed-effects estimations but for only four likelihood families. Package <code>fixest</code> completely supersedes <code>FENmlm</code> by extending the method to regular OLS and all GLM families, and adding new utility functions. Further, the design of the functions has been completely overhauled and extended towards much more user-friendliness. Massive effort has been put into providing a set of informative error messages to the user for quick debugging of her workflow (e.g. one of the functions contains over 100 different errors messages).</p></li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Laurent Berge.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


