<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Extends strings with variables using the Dot Square Bracket operator — dsb • fixest</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Extends strings with variables using the Dot Square Bracket operator — dsb" />
<meta property="og:description" content="Simple utility to insert variables into character strings using the &quot;dot square bracket&quot; operator. Typically dsb(&quot;Hello I'm .[x]!&quot;) is equivalent to paste0(&quot;hello I'm &quot;, x, &quot;!&quot;)." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fixest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.10.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/exporting_tables.html">Exporting estimation tables</a>
    </li>
    <li>
      <a href="../articles/fixest_walkthrough.html">Fast Fixed-Effects Estimation: Short introduction</a>
    </li>
    <li>
      <a href="../articles/multiple_estimations.html">Multiple estimations</a>
    </li>
    <li>
      <a href="../articles/standard_errors.html">On standard-errors</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/lrberge/fixest/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Extends strings with variables using the Dot Square Bracket operator</h1>
    <small class="dont-index">Source: <a href='https://github.com/lrberge/fixest/blob/master/R/MiscFuns.R'><code>R/MiscFuns.R</code></a></small>
    <div class="hidden name"><code>dsb.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Simple utility to insert variables into character strings using the "dot square bracket" operator. Typically <code>dsb("Hello I'm .[x]!")</code> is equivalent to <code><a href='https://rdrr.io/r/base/paste.html'>paste0("hello I'm ", x, "!")</a></code>.</p>
    </div>

    <pre class="usage"><span class='fu'>dsb</span><span class='op'>(</span><span class='va'>x</span>, collapse <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>A character string, must be of length 1. Every expression inside <code>.[]</code> is evaluated in the current frame and then coerced to character and inserted into the character string. For example: <code>dsb("hello .[name]")</code> is equivalent to <code><a href='https://rdrr.io/r/base/paste.html'>paste0("hello ", name)</a></code>. You can add a string literal as first or last element in the <code>.[]</code>. Doing so will collapse the expression. If first, as in <code>.['text', expr]</code>, the expression is first collapsed: <code><a href='https://rdrr.io/r/base/paste.html'>paste0(expr, collapse = "text")</a></code> is applied. If last, as in <code>"before.[expr, 'text']"</code>, the expression is collapsed to the previous adjacent text: <code><a href='https://rdrr.io/r/base/paste.html'>paste0("before", expr, collapse = "text")</a></code> is applied. The collapsing is always done with the previous text only. To collapse the whole string, use the argument `collapse`.</p></td>
    </tr>
    <tr>
      <th>collapse</th>
      <td><p>If the variables inserted into the string are of length greater than 1, you can merge into a single string with <code>collapse</code>.</p>
<p>Every expression inside <code>.[]</code> is evaluated in the current frame and then coerced to character and inserted into the character string.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A character vector. It is of length &gt; 1 only if the variables inserted are of length &gt; 1.</p>
    <h2 class="hasAnchor" id="collapsing"><a class="anchor" href="#collapsing"></a>Collapsing</h2>

    


<p>If the expression inside <code>.[]</code> is a vector, a vector will be returned, except when we explicitly request the character string to be "collapsed". There are three main ways to do the collapsing that we detail below. Throughout, consider that the variable <code>name</code> is equal to <code>name = c("Romeo", "Juliet")</code> and the example <code>dsb("hello .[name], what's up?")</code>.</p>

<ul>
<li><p>full collapse:The argument <code>collapse</code> is used. All the string elements are attached. For example <code>dsb("hello .[name], what's up?", collapse = " And... ")</code> leads to <code>"hello Romeo, what's up? And... hello Juliet, what's up?"</code>.</p></li>
<li><p>expression-collapse:There is a string literal in the first position of <code>.[]</code>. In that case the expression in brackets is first collapsed before being merged. For example in <code>dsb("hello .[' and ', name], what's up?")</code> leads to <code>"hello Romeo and Juliet, what's up?"</code>. If you add a comma but omit the string literal, the default is to collapse with a space: <code>.[,expr]</code> is equivalent to <code>.[" ", expr]</code>.</p></li>
<li><p>text-expression-collapse:There is a string literal in the second position of <code>.[]</code>. In that case the expression in brackets is collapsed to the adjacent string on the left. For example in <code>dsb("hello .[name, ' and '], what's up?")</code> leads to <code>"hello Romeo and hello Juliet, what's up?"</code>. If you add a comma but omit the string literal, the default is to collapse with a space: <code>.[expr,]</code> is equivalent to <code>.[expr, " "]</code>.</p></li>
</ul>

    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Laurent Berge</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='va'>guy_all</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Jenny"</span>, <span class='st'>"Bryan"</span><span class='op'>)</span>
<span class='va'>loc_all</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"kitchen"</span>, <span class='st'>"bathroom"</span><span class='op'>)</span>

<span class='va'>guy</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='va'>guy_all</span>, <span class='fl'>1</span><span class='op'>)</span>
<span class='va'>loc</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='va'>loc_all</span>, <span class='fl'>1</span><span class='op'>)</span>

<span class='fu'>dsb</span><span class='op'>(</span><span class='st'>"Where is .[guy]? .[guy] is in the .[loc]."</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "Where is Jenny? Jenny is in the kitchen."</div><div class='input'>
<span class='co'># Since the stuff in brackets is evaluated in the current frame,</span>
<span class='co'># you can do things like:</span>

<span class='va'>guy_gen</span> <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='va'>guy_all</span>, <span class='fl'>1</span><span class='op'>)</span>
<span class='va'>loc_gen</span> <span class='op'>=</span> <span class='kw'>function</span><span class='op'>(</span><span class='op'>)</span> <span class='fu'><a href='https://rdrr.io/r/base/sample.html'>sample</a></span><span class='op'>(</span><span class='va'>loc_all</span>, <span class='fl'>1</span><span class='op'>)</span>

<span class='fu'>dsb</span><span class='op'>(</span><span class='st'>"Where is .[g &lt;- guy_gen()]? .[g] is in the .[loc_gen()]."</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "Where is Jenny? Jenny is in the kitchen."</div><div class='input'>

<span class='co'>#</span>
<span class='co'># Collapsing options</span>
<span class='co'>#</span>

<span class='va'>name</span> <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"Romeo"</span>, <span class='st'>"Juliet"</span><span class='op'>)</span>

<span class='co'># full collapse with argument collapse</span>
<span class='fu'>dsb</span><span class='op'>(</span><span class='st'>"hello .[name], what's up?"</span>, collapse <span class='op'>=</span> <span class='st'>" and "</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "hello Romeo, what's up? and hello Juliet, what's up?"</div><div class='input'>
<span class='co'># collapse the expression by adding a string literal</span>
<span class='co'># in the *first* position of .[]</span>
<span class='fu'>dsb</span><span class='op'>(</span><span class='st'>"hello .[' and ', name], what's up?"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "hello Romeo and Juliet, what's up?"</div><div class='input'>
<span class='co'># collapsing the epression with the previous string</span>
<span class='co'># using a string literal in the *second* position</span>
<span class='fu'>dsb</span><span class='op'>(</span><span class='st'>"hello .[name, ' and '], what's up?"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "hello Romeo and hello Juliet, what's up?"</div><div class='input'>
<span class='co'># The elements can also be empty, leading to collapse with a " "</span>
<span class='fu'>dsb</span><span class='op'>(</span><span class='st'>"hello .[, name], what's up?"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "hello Romeo Juliet, what's up?"</div><div class='input'><span class='fu'>dsb</span><span class='op'>(</span><span class='st'>"hello .[name, ], what's up?"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "hello Romeo hello Juliet, what's up?"</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Laurent Berge.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


