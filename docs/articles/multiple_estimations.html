<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Multiple estimations • fixest</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Multiple estimations">
<meta property="og:description" content="fixest">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fixest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.10.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/exporting_tables.html">Exporting estimation tables</a>
    </li>
    <li>
      <a href="../articles/fixest_walkthrough.html">Fast Fixed-Effects Estimation: Short introduction</a>
    </li>
    <li>
      <a href="../articles/multiple_estimations.html">Multiple estimations</a>
    </li>
    <li>
      <a href="../articles/standard_errors.html">On standard-errors</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/lrberge/fixest/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="multiple_estimations_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Multiple estimations</h1>
                        <h4 class="author">Laurent Berge</h4>
            
            <h4 class="date">2021-08-26</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/lrberge/fixest/blob/master/vignettes/multiple_estimations.Rmd"><code>vignettes/multiple_estimations.Rmd</code></a></small>
      <div class="hidden name"><code>multiple_estimations.Rmd</code></div>

    </div>

    
    
<p>Multiple estimations can be a chore to set up. Varying left-hand-sides (LHS), right-hand-sides (RHS) or samples require either many lines of code, or loops with formula/data manipulation. The package <code>fixest</code> simplifies multiple estimations by providing an optimized procedure along with a clear and concise syntax.</p>
<p>On the one hand, stepwise functions facilitate the sequential inclusion of variables in the RHS or in the fixed-effects part of the formula. On the other hand, intuitive methods are introduced to manipulate the results from multiple estimations, making it easy to visualize or export any wanted set of results.</p>
<div id="first-illustration" class="section level1">
<h1 class="hasAnchor">
<a href="#first-illustration" class="anchor"></a>First illustration</h1>
<p>What does a multiple estimation look like? Let’s give it a try:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">base</span> <span class="op">=</span> <span class="va">iris</span>
<span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">base</span><span class="op">)</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"y1"</span>, <span class="st">"y2"</span>, <span class="st">"x1"</span>, <span class="st">"x2"</span>, <span class="st">"species"</span><span class="op">)</span>

<span class="va">res_multi</span> <span class="op">=</span> <span class="fu"><a href="../reference/feols.html">feols</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">y1</span>, <span class="va">y2</span><span class="op">)</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="fu"><a href="../reference/stepwise.html">csw</a></span><span class="op">(</span><span class="va">x2</span>, <span class="va">x2</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="../reference/stepwise.html">sw0</a></span><span class="op">(</span><span class="va">species</span><span class="op">)</span>, <span class="va">base</span>, fsplit <span class="op">=</span> <span class="op">~</span><span class="va">species</span><span class="op">)</span></code></pre></div>
<p>With the previous line of code (90 characters long), we have just performed 32 estimations: eight different functional forms on four different samples.</p>
<p>The previous code leads to the following results:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/summary.html">summary</a></span><span class="op">(</span><span class="va">res_multi</span>, <span class="st">"compact"</span>, se <span class="op">=</span> <span class="st">"hetero"</span><span class="op">)</span></code></pre></div>
<pre><code>##         sample lhs   fixef               rhs      (Intercept)
## 1  Full sample  y1 1       x1 + x2           4.19*** (0.104) 
## 2  Full sample  y1 1       x1 + x2 + I(x2^2) 4.27*** (0.101) 
## 3  Full sample  y1 species x1 + x2                           
## 4  Full sample  y1 species x1 + x2 + I(x2^2)                 
## 5  Full sample  y2 1       x1 + x2           3.59*** (0.103) 
## 6  Full sample  y2 1       x1 + x2 + I(x2^2) 3.68*** (0.0969)
## 7  Full sample  y2 species x1 + x2                           
## 8  Full sample  y2 species x1 + x2 + I(x2^2)                 
## 9  setosa       y1 1       x1 + x2           4.25*** (0.474) 
## 10 setosa       y1 1       x1 + x2 + I(x2^2)    4*** (0.504) 
## 11 setosa       y1 species x1 + x2                           
## 12 setosa       y1 species x1 + x2 + I(x2^2)                 
## 13 setosa       y2 1       x1 + x2           2.89*** (0.416) 
## 14 setosa       y2 1       x1 + x2 + I(x2^2) 2.82*** (0.423) 
## 15 setosa       y2 species x1 + x2                           
## 16 setosa       y2 species x1 + x2 + I(x2^2)                 
## 17 versicolor   y1 1       x1 + x2           2.38*** (0.423) 
## 18 versicolor   y1 1       x1 + x2 + I(x2^2)   0.323 (1.44)  
## 19 versicolor   y1 species x1 + x2                           
## 20 versicolor   y1 species x1 + x2 + I(x2^2)                 
## 21 versicolor   y2 1       x1 + x2           1.25*** (0.275) 
## 22 versicolor   y2 1       x1 + x2 + I(x2^2)   0.097 (1.01)  
## 23 versicolor   y2 species x1 + x2                           
## 24 versicolor   y2 species x1 + x2 + I(x2^2)                 
## 25 virginica    y1 1       x1 + x2             1.05. (0.539) 
## 26 virginica    y1 1       x1 + x2 + I(x2^2)   -2.39 (2.04)  
## 27 virginica    y1 species x1 + x2                           
## 28 virginica    y1 species x1 + x2 + I(x2^2)                 
## 29 virginica    y2 1       x1 + x2             1.06. (0.572) 
## 30 virginica    y2 1       x1 + x2 + I(x2^2)     1.1 (1.76)  
## 31 virginica    y2 species x1 + x2                           
## 32 virginica    y2 species x1 + x2 + I(x2^2)                 
##                    x1               x2           I(x2^2)
## 1   0.542*** (0.0761)   -0.32. (0.17)                   
## 2   0.719*** (0.0815) -1.52*** (0.307) 0.348*** (0.0748)
## 3   0.906*** (0.0759)   -0.006 (0.163)                  
## 4     0.9*** (0.0767)     0.29 (0.408)  -0.0879 (0.117) 
## 5  -0.257*** (0.0664)   0.364* (0.142)                  
## 6    -0.0301 (0.0778) -1.18*** (0.313) 0.446*** (0.0737)
## 7     0.155* (0.0735) 0.623*** (0.114)                  
## 8     0.148. (0.0755)   0.951* (0.472)  -0.0973 (0.125) 
## 9      0.399 (0.325)    0.712. (0.418)                  
## 10     0.405 (0.325)     2.51. (1.47)     -2.91 (2.1)   
## 11     0.399 (0.325)    0.712. (0.418)                  
## 12     0.405 (0.325)     2.51. (1.47)     -2.91 (2.1)   
## 13     0.247 (0.305)     0.702 (0.56)                   
## 14     0.248 (0.304)      1.27 (2.39)    -0.911 (3.28)  
## 15     0.247 (0.305)     0.702 (0.56)                   
## 16     0.248 (0.304)      1.27 (2.39)    -0.911 (3.28)  
## 17  0.934*** (0.166)     -0.32 (0.364)                  
## 18  0.901*** (0.164)      3.01 (2.31)     -1.24 (0.841) 
## 19  0.934*** (0.166)     -0.32 (0.364)                  
## 20  0.901*** (0.164)      3.01 (2.31)     -1.24 (0.841) 
## 21    0.0669 (0.0949) 0.929*** (0.244)                  
## 22     0.048 (0.0993)     2.8. (1.65)    -0.695 (0.583) 
## 23    0.0669 (0.0949) 0.929*** (0.244)                  
## 24     0.048 (0.0993)     2.8. (1.65)    -0.695 (0.583) 
## 25  0.995*** (0.0898)  0.00706 (0.205)                  
## 26  0.994*** (0.0881)     3.5. (2.09)     -0.87 (0.519) 
## 27  0.995*** (0.0898)  0.00706 (0.205)                  
## 28  0.994*** (0.0881)     3.5. (2.09)     -0.87 (0.519) 
## 29     0.149 (0.107)  0.535*** (0.122)                  
## 30     0.149 (0.108)     0.503 (1.56)   0.00798 (0.388) 
## 31     0.149 (0.107)  0.535*** (0.122)                  
## 32     0.149 (0.108)     0.503 (1.56)   0.00798 (0.388)</code></pre>
<p>This vignette now details how to perform multiple estimations for multiple: LHSs, RHSs, fixed-effects, or samples. It then comes to describe the various methods to access the results.</p>
</div>
<div id="performing-multiple-estimations" class="section level1">
<h1 class="hasAnchor">
<a href="#performing-multiple-estimations" class="anchor"></a>Performing multiple estimations</h1>
<div id="multiple-lhs" class="section level4">
<h4 class="hasAnchor">
<a href="#multiple-lhs" class="anchor"></a>Multiple LHS</h4>
<p>To perform an estimation on multiple LHS, simply wrap the different LHS in <code><a href="https://rdrr.io/r/base/c.html">c()</a></code>:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/etable.html">etable</a></span><span class="op">(</span><span class="fu"><a href="../reference/feols.html">feols</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="va">y1</span>, <span class="va">y2</span><span class="op">)</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span>, <span class="va">base</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>##                            model 1             model 2
## Dependent Var.:                 y1                  y2
##                                                       
## (Intercept)      4.191*** (0.0970)   3.587*** (0.0937)
## x1              0.5418*** (0.0693) -0.2571*** (0.0669)
## x2               -0.3196* (0.1605)    0.3640* (0.1550)
## _______________ __________________ ___________________
## S.E. type                      IID                 IID
## Observations                   150                 150
## R2                         0.76626             0.21310
## Adj. R2                    0.76308             0.20240</code></pre>
</div>
<div id="multiple-rhs-and-fixed-effects-stepwise-functions" class="section level4">
<h4 class="hasAnchor">
<a href="#multiple-rhs-and-fixed-effects-stepwise-functions" class="anchor"></a>Multiple RHS and fixed-effects: stepwise functions</h4>
<p>To estimate multiple RHS (or fixed-effects), you need to use a specific set of functions: the <em>stepwise</em> functions. There are four of them: <code>sw</code>, <code>sw0</code>, <code>csw</code>, <code>csw0</code>.</p>
<ul>
<li><p><code>sw</code>: this function is replaced sequentially by each of its arguments. For example, <code>y ~ x1 + sw(x2, x3)</code> leads to two estimations: <code>y ~ x1 + x2</code> and <code>y ~ x1 + x3</code>.</p></li>
<li><p><code>sw0</code>: identical to <code>sw</code> but first adds the empty element. E.g. <code>y ~ x1 + sw0(x2, x3)</code> leads to three estimations: <code>y ~ x1</code>, <code>y ~ x1 + x2</code> and <code>y ~ x1 + x3</code>.</p></li>
<li><p><code>csw</code>: it stands for <em>cumulative</em> stepwise. It adds to the formula each of its arguments sequentially. E.g. <code>y ~ x1 + csw(x2, x3)</code> will become <code>y ~ x1 + x2</code> and <code>y ~ x1 + x2 + x3</code>.</p></li>
<li><p><code>csw0</code>: identical to <code>csw</code> but first adds the empty element. E.g. <code>y ~ x1 + csw0(x2, x3)</code> leads to three estimations: <code>y ~ x1</code>, <code>y ~ x1 + x2</code> and <code>y ~ x1 + x2 + x3</code>.</p></li>
</ul>
<p>The stepwise functions can be applied both to the linear part and the fixed-effects part of the formula. Note that at most one stepwise function can be applied per part.</p>
<p>Here is an example:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/etable.html">etable</a></span><span class="op">(</span><span class="fu"><a href="../reference/feols.html">feols</a></span><span class="op">(</span><span class="va">y1</span> <span class="op">~</span> <span class="fu"><a href="../reference/stepwise.html">csw</a></span><span class="op">(</span><span class="va">x1</span>, <span class="va">x2</span><span class="op">)</span> <span class="op">|</span> <span class="fu"><a href="../reference/stepwise.html">sw0</a></span><span class="op">(</span><span class="va">species</span><span class="op">)</span>, <span class="va">base</span>, cluster <span class="op">=</span> <span class="op">~</span><span class="va">species</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>##                           model 1          model 2           model 3
## Dependent Var.:                y1               y1                y1
##                                                                     
## (Intercept)      4.307** (0.1917) 4.191** (0.2443)                  
## x1              0.4089** (0.0401) 0.5418* (0.1115) 0.9046** (0.0758)
## x2                                -0.3196 (0.1707)                  
## Fixed-Effects:  ----------------- ---------------- -----------------
## species                        No               No               Yes
## _______________ _________________ ________________ _________________
## S.E.: Clustered       by: species      by: species       by: species
## Observations                  150              150               150
## R2                        0.75995          0.76626           0.83672
## Within R2                      --               --           0.57178
##                           model 4
## Dependent Var.:                y1
##                                  
## (Intercept)                      
## x1              0.9059** (0.0814)
## x2               -0.0060 (0.1260)
## Fixed-Effects:  -----------------
## species                       Yes
## _______________ _________________
## S.E.: Clustered       by: species
## Observations                  150
## R2                        0.83673
## Within R2                 0.57179</code></pre>
<p>As you can see, if the stepwise functions are in both parts, there will be as many estimations as the cardinal product of the two parts.</p>
</div>
<div id="split-sample-estimations" class="section level4">
<h4 class="hasAnchor">
<a href="#split-sample-estimations" class="anchor"></a>Split sample estimations</h4>
<p>To perform split sample estimations, use either the argument <code>split</code> or <code>fsplit</code>. The argument <code>split</code> accepts a variable that will be treated as a factor, and an estimation will be performed for each sub-sample defined by each level of this variable. The argument <code>fsplit</code> is identical but first adds the full sample.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/etable.html">etable</a></span><span class="op">(</span><span class="fu"><a href="../reference/feols.html">feols</a></span><span class="op">(</span><span class="va">y1</span> <span class="op">~</span> <span class="va">x1</span> <span class="op">+</span> <span class="va">x2</span>, <span class="va">base</span>, fsplit <span class="op">=</span> <span class="op">~</span><span class="va">species</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<pre><code>##                             model 1           model 2            model 3
## Sample (species)        Full sample            setosa         versicolor
## Dependent Var.:                  y1                y1                 y1
##                                                                         
## (Intercept)       4.191*** (0.0970) 4.248*** (0.4114)  2.381*** (0.4493)
## x1               0.5418*** (0.0693)   0.3990 (0.2958) 0.9342*** (0.1693)
## x2                -0.3196* (0.1605)   0.7121 (0.4874)   -0.3200 (0.4024)
## ________________ __________________ _________________ __________________
## S.E. type                       IID               IID                IID
## Observations                    150                50                 50
## R2                          0.76626           0.11173            0.57432
## Adj. R2                     0.76308           0.07393            0.55620
##                             model 4
## Sample (species)          virginica
## Dependent Var.:                  y1
##                                    
## (Intercept)         1.052* (0.5139)
## x1               0.9946*** (0.0893)
## x2                  0.0071 (0.1795)
## ________________ __________________
## S.E. type                       IID
## Observations                     50
## R2                          0.74689
## Adj. R2                     0.73612</code></pre>
</div>
<div id="combining-multiple-estimations" class="section level4">
<h4 class="hasAnchor">
<a href="#combining-multiple-estimations" class="anchor"></a>Combining multiple estimations</h4>
<p>You can combine multiple LHS to multiple RHS to multiple fixed-effects to multiple samples. The total number of estimations is always equal to the cardinal product of the total number of parts.</p>
</div>
</div>
<div id="manipulation-of-multiple-estimations" class="section level1">
<h1 class="hasAnchor">
<a href="#manipulation-of-multiple-estimations" class="anchor"></a>Manipulation of multiple estimations</h1>
<p>We’ve just seen how to perform multiple estimations, now let’s see how to manipulate them. First a multiple estimation is a <code>fixest_multi</code> object with its own set of methods. We can access its elements by using keys. There are five keys: <code>sample</code>, <code>lhs</code>, <code>rhs</code>, <code>fixef</code>, and <code>iv</code>.</p>
<div id="basic-access" class="section level3">
<h3 class="hasAnchor">
<a href="#basic-access" class="anchor"></a>Basic access</h3>
<p><code>res_multi[sample = 1]</code> returns all the results for the first sample. <code>res_multi[lhs = .N]</code> returns all the results for the last dependent variable (the special variable <code>.N</code> can be used to refer to the last element). etc.</p>
<p>You can combine different keys: <code>res_multi[sample = -1, lhs = 1]</code> will select all results for all samples but the first, and for the first dependent variable.</p>
<p>Note that these arguments accept regular expressions, so <code>res_multi[fixef = "spe"]</code> returns all results for which the character string <code>"spe"</code> is contained in the fixed-effects part of the formula.</p>
</div>
<div id="putting-order" class="section level3">
<h3 class="hasAnchor">
<a href="#putting-order" class="anchor"></a>Putting order</h3>
<p>The results in a <code>fixest_multi</code> object have a specific order, organized in a tree. By default the order is <span class="math inline">\(sample \rightarrow lhs \rightarrow fixef \rightarrow rhs \rightarrow iv\)</span>.</p>
<p>Changing the order of the results is important to organize/export them. By default, when one accesses <code>fixest_multi</code> objects the results are reordered according to the order of the arguments used.</p>
<p>For instance, <code>res_mutli[rhs = 1:.N, fixef = 1:.N]</code> will place the RHS at the root of the tree followed by the fixed-effects. Then the sample and the LHS will follow.</p>
<p>The arguments accept logical values: <code>res_multi[fixef = TRUE, sample = FALSE]</code> will keep <em>all</em> results but will place <code>fixef</code> as the root and <code>sample</code> as the last leaf.</p>
<p>This subsetting can then be used to easily obtain the appropriate set of results and ordering:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/etable.html">etable</a></span><span class="op">(</span><span class="va">res_multi</span><span class="op">[</span>lhs <span class="op">=</span> <span class="fl">1</span>, fixef <span class="op">=</span> <span class="fl">1</span>, rhs <span class="op">=</span> <span class="cn">TRUE</span>, sample <span class="op">=</span> <span class="op">-</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></code></pre></div>
<pre><code>##                            model 1            model 2            model 3
## Sample (species)            setosa         versicolor          virginica
## Dependent Var.:                 y1                 y1                 y1
##                                                                         
## (Intercept)      4.248*** (0.4114)  2.381*** (0.4493)    1.052* (0.5139)
## x1                 0.3990 (0.2958) 0.9342*** (0.1693) 0.9946*** (0.0893)
## x2                 0.7121 (0.4874)   -0.3200 (0.4024)    0.0071 (0.1795)
## x2 square                                                               
## ________________ _________________ __________________ __________________
## S.E. type                      IID                IID                IID
## Observations                    50                 50                 50
## R2                         0.11173            0.57432            0.74689
## Adj. R2                    0.07393            0.55620            0.73612
##                            model 4            model 5            model 6
## Sample (species)            setosa         versicolor          virginica
## Dependent Var.:                 y1                 y1                 y1
##                                                                         
## (Intercept)      4.004*** (0.4892)     0.3234 (1.791)     -2.393 (2.173)
## x1                 0.4048 (0.2963) 0.9006*** (0.1710) 0.9939*** (0.0878)
## x2                   2.511 (2.011)      3.015 (2.839)      3.504 (2.153)
## x2 square           -2.913 (3.157)     -1.236 (1.042)   -0.8703 (0.5340)
## ________________ _________________ __________________ __________________
## S.E. type                      IID                IID                IID
## Observations                    50                 50                 50
## R2                         0.12786            0.58696            0.76071
## Adj. R2                    0.07098            0.56002            0.74510</code></pre>
</div>
</div>
<div id="some-notes" class="section level1">
<h1 class="hasAnchor">
<a href="#some-notes" class="anchor"></a>Some notes</h1>
<div id="note-on-standard-errors" class="section level4">
<h4 class="hasAnchor">
<a href="#note-on-standard-errors" class="anchor"></a>Note on standard-errors</h4>
<p>Defining the standard-errors at estimation time, by using the arguments <code>se</code> or <code>cluster</code>, can be useful to obtain a coherent set of standard-errors across results, especially if the fixed-effects are modified (which will modify the default clustering of standard-errors across models).</p>
</div>
<div id="note-on-ivs" class="section level4">
<h4 class="hasAnchor">
<a href="#note-on-ivs" class="anchor"></a>Note on IVs</h4>
<p>IV estimations return a regular <code>fixest</code> object. The <code>summary</code> applied to it however can return a <code>fixest_multi</code> object. This is the case when both the first and second stage regressions are requested using the argument <code>stage = 1:2</code>. You can then cherry-pick the results as before using, e.g. <code>res[iv = 1]</code>. Note, importantly, that the index refers to the order of the results and 1 here does not mean the first stage.</p>
</div>
<div id="note-on-memory-usage" class="section level4">
<h4 class="hasAnchor">
<a href="#note-on-memory-usage" class="anchor"></a>Note on memory usage</h4>
<p>The objects returned by <code>fixest</code> estimations are large. They contain the necessary information to apply various methods without incurring additional computing costs. This is particularly true for clustering the standard-errors for instance. Stated differently speed is privileged over memory usage.</p>
<p>The problem when it comes to multiple estimations is that it is very easy to perform many many estimations leading to a ballooning of object size possibly getting out of control at some point. To circumvent this issue, here’s what to do:</p>
<ol style="list-style-type: decimal">
<li>use the argument <code>vcov</code> to get a summary of the results with the appropriate standard-errors at estimation time,</li>
<li>use the argument <code>lean = TRUE</code>.</li>
</ol>
<p>This will perform the estimation with the appropriate standard errors (point 1) and clean any large object from the results (point 2).</p>
<p>The drawback of this is that you won’t be able to apply some methods to the results (like changing the type of standard-errors, <code>predict</code>, <code>resid</code>, etc). But the amount of memory saved can be considerable.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Laurent Berge.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
